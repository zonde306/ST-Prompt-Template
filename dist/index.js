import*as __WEBPACK_EXTERNAL_MODULE_https_esm_sh_faker_js_faker_7a747e38__ from"https://esm.sh/@faker-js/faker";import*as __WEBPACK_EXTERNAL_MODULE__script_js_588e7203__ from"../../../../../script.js";import*as __WEBPACK_EXTERNAL_MODULE__slash_commands_js_f5742a84__ from"../../../../slash-commands.js";import*as __WEBPACK_EXTERNAL_MODULE__world_info_js_83198f57__ from"../../../../world-info.js";import*as __WEBPACK_EXTERNAL_MODULE__power_user_js_3c7cfb8b__ from"../../../../power-user.js";import*as __WEBPACK_EXTERNAL_MODULE__utils_js_d605cabe__ from"../../../../utils.js";import*as __WEBPACK_EXTERNAL_MODULE__group_chats_js_678c16bd__ from"../../../../group-chats.js";import*as __WEBPACK_EXTERNAL_MODULE__extensions_js_e625da88__ from"../../../../extensions.js";import*as __WEBPACK_EXTERNAL_MODULE__openai_js_bf183548__ from"../../../../openai.js";import*as __WEBPACK_EXTERNAL_MODULE__regex_engine_js_683beba0__ from"../../../regex/engine.js";import*as __WEBPACK_EXTERNAL_MODULE__tokenizers_js_d5863f55__ from"../../../../tokenizers.js";import*as __WEBPACK_EXTERNAL_MODULE__slash_commands_SlashCommand_js_1b0d5616__ from"../../../../slash-commands/SlashCommand.js";import*as __WEBPACK_EXTERNAL_MODULE__slash_commands_SlashCommandArgument_js_a42b9371__ from"../../../../slash-commands/SlashCommandArgument.js";import*as __WEBPACK_EXTERNAL_MODULE__slash_commands_SlashCommandParser_js_42c8b851__ from"../../../../slash-commands/SlashCommandParser.js";var __webpack_modules__={7921:(e,t,r)=>{var i=r(3270),n=r(7510),s=i.Parser.extend(r(3181)).extend(r(9164)).extend(r(3511)).extend(r(9067)).extend(r(439).Ay),a=s.extend(r(4671)).extend(r(5679));function o(e){return e||(e={}),n({ecmaVersion:2020,allowHashBang:!0,allowReturnOutsideFunction:!0},e)}function c(e){return e||(e={}),"module"===e.sourceType?a:s}e.exports=n(i,{parse:function(e,t){return c(t).parse(e,o(t))},parseExpressionAt:function(e,t,r){return c(r).parseExpressionAt(e,t,o(r))},tokenizer:function(e,t){return c(t).tokenizer(e,o(t))}})},3181:(e,t,r)=>{var i=r(3270),n=i.tokTypes,s=i.isIdentifierStart;e.exports=function(e){return function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseLiteral=function(t){var r=e.prototype.parseLiteral.call(this,t);return 110==r.raw.charCodeAt(r.raw.length-1)&&(r.bigint=this.getNumberInput(r.start,r.end)),r},t.prototype.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var r=this.readInt(e);if(null===r&&this.raise(this.start+2,"Expected number in radix "+e),110==this.input.charCodeAt(this.pos)){var i=this.getNumberInput(t,this.pos);r="undefined"!=typeof BigInt?BigInt(i):null,++this.pos}else s(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");return this.finishToken(n.num,r)},t.prototype.readNumber=function(t){var r=this.pos;if(t)return e.prototype.readNumber.call(this,t);if(48===this.input.charCodeAt(r)&&110!==this.input.charCodeAt(r+1))return e.prototype.readNumber.call(this,t);if(null===this.readInt(10)&&this.raise(r,"Invalid number"),110!=this.input.charCodeAt(this.pos))return this.pos=r,e.prototype.readNumber.call(this,t);var i=this.getNumberInput(r,this.pos),s="undefined"!=typeof BigInt?BigInt(i):null;return++this.pos,this.finishToken(n.num,s)},t.prototype.getNumberInput=function(t,r){return e.prototype.getNumberInput?e.prototype.getNumberInput.call(this,t,r):this.input.slice(t,r)},t}(e)}},9164:(e,t,r)=>{var i=r(3270).tokTypes,n=r(4078);function s(e){if(this.eat(i.eq)){var t=this._inFieldValue;this._inFieldValue=!0,e.value=this.parseExpression(),this._inFieldValue=t}else e.value=null}e.exports=function(e){return function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseClassElement=function(t){if(this.options.ecmaVersion>=8&&(this.type==i.name||this.type==this.privateNameToken||this.type==i.bracketL||this.type==i.string)){var r=this._branch();if(r.type==i.bracketL){var n=0;do{r.eat(i.bracketL)?++n:r.eat(i.bracketR)?--n:r.next()}while(n>0)}else r.next();if(r.type==i.eq||r.canInsertSemicolon()||r.type==i.semi){var a=this.startNode();return this.type==this.privateNameToken?this.parsePrivateClassElementName(a):this.parsePropertyName(a),("Identifier"===a.key.type&&"constructor"===a.key.name||"Literal"===a.key.type&&"constructor"===a.key.value)&&this.raise(a.key.start,"Classes may not have a field called constructor"),s.call(this,a),this.finishNode(a,"FieldDefinition"),this.semicolon(),a}}return e.prototype.parseClassElement.apply(this,arguments)},t.prototype.parseIdent=function(t,r){var i=e.prototype.parseIdent.call(this,t,r);return this._inFieldValue&&"arguments"==i.name&&this.raise(i.start,"A class field initializer may not contain arguments"),i},t}(e=n(e))}},439:(e,t,r)=>{var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function e(t,r,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,i)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(i):void 0};t.Ay=function(e){return function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"parseStatement",value:function(e,r,i){return this.type===s.tokTypes._import&&c.call(this)?this.parseExpressionStatement(this.startNode(),this.parseExpression()):n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parseStatement",this).call(this,e,r,i)}},{key:"parseExprAtom",value:function(e){return this.type===s.tokTypes._import?o.call(this):n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parseExprAtom",this).call(this,e)}}]),t}(e)};var s=r(3270);var a="Import";function o(){var e=this.startNode();return this.next(),this.type!==s.tokTypes.parenL&&this.unexpected(),this.finishNode(e,a)}function c(){return/^(\s|\/\/.*|\/\*[^]*?\*\/)*\(/.test(this.input.slice(this.pos))}s.tokTypes._import.startsExpr=!0},4671:(e,t,r)=>{var i=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,n=r(3270).tokTypes;e.exports=function(e){return function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseExport=function(t,r){i.lastIndex=this.pos;var s=i.exec(this.input);if("*"!==this.input.charAt(this.pos+s[0].length))return e.prototype.parseExport.call(this,t,r);this.next();var a=this.startNode();return this.expect(n.star),this.eatContextual("as")&&(t.declaration=null,a.exported=this.parseIdent(!0),this.checkExport(r,a.exported.name,this.lastTokStart),t.specifiers=[this.finishNode(a,"ExportNamespaceSpecifier")]),this.expectContextual("from"),this.type!==n.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,t.specifiers?"ExportNamedDeclaration":"ExportAllDeclaration")},t}(e)}},5679:(e,t,r)=>{var i=r(3270).tokTypes,n=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,s=function(e){n.lastIndex=e.pos;var t=n.exec(e.input),r=e.pos+t[0].length;return"."===e.input.slice(r,r+1)};e.exports=function(e){return function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseExprAtom=function(t){if(this.type!==i._import||!s(this))return e.prototype.parseExprAtom.call(this,t);this.options.allowImportExportEverywhere||this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'");var r=this.startNode();return r.meta=this.parseIdent(!0),this.expect(i.dot),r.property=this.parseIdent(!0),"meta"!==r.property.name&&this.raiseRecoverable(r.property.start,"The only valid meta property for import is import.meta"),this.finishNode(r,"MetaProperty")},t.prototype.parseStatement=function(t,r,n){if(this.type!==i._import||!s(this))return e.prototype.parseStatement.call(this,t,r,n);var a=this.startNode(),o=this.parseExpression();return this.parseExpressionStatement(a,o)},t}(e)}},9067:e=>{e.exports=function(e){return function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.readInt=function(t,r){if(null!=r)return e.prototype.readInt.call(this,t,r);for(var i=this.pos,n=0,s=!1;;){var a=this.input.charCodeAt(this.pos),o=void 0;if(a>=97)o=a-97+10;else{if(95==a){s||this.raise(this.pos,"Invalid numeric separator"),++this.pos,s=!1;continue}o=a>=65?a-65+10:a>=48&&a<=57?a-48:1/0}if(o>=t)break;++this.pos,n=n*t+o,s=!0}return this.pos===i?null:(s||this.raise(this.pos-1,"Invalid numeric separator"),n)},t.prototype.readNumber=function(t){var r=e.prototype.readNumber.call(this,t),i=this.end-this.start>=2&&48===this.input.charCodeAt(this.start),n=this.getNumberInput(this.start,this.end);return n.length<this.end-this.start&&(i&&this.raise(this.start,"Invalid number"),this.value=parseFloat(n)),r},t.prototype.getNumberInput=function(e,t){return this.input.slice(e,t).replace(/_/g,"")},t}(e)}},4078:(e,t,r)=>{var i=r(3270);var n=i.tokTypes,s=i.TokenType;e.exports=function(e){if(e.prototype.parsePrivateName)return e;for(var t=e;t&&t!==i.Parser;)t=t.__proto__;if(t!==i.Parser)throw new Error("acorn-private-class-elements does not support mixing different acorn copies");return e=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._branch=function(){return this.__branch=this.__branch||new e({ecmaVersion:this.options.ecmaVersion},this.input),this.__branch.end=this.end,this.__branch.pos=this.pos,this.__branch.type=this.type,this.__branch.value=this.value,this.__branch.containsEsc=this.containsEsc,this.__branch},t.prototype.parsePrivateClassElementName=function(e){e.computed=!1,e.key=this.parsePrivateName(),"constructor"==e.key.name&&this.raise(e.key.start,"Classes may not have a private element named constructor");var t={get:"set",set:"get"}[e.kind],r=this._privateBoundNamesStack[this._privateBoundNamesStack.length-1];return Object.prototype.hasOwnProperty.call(r,e.key.name)&&r[e.key.name]!==t&&this.raise(e.start,"Duplicate private element"),r[e.key.name]=e.kind||!0,delete this._unresolvedPrivateNamesStack[this._unresolvedPrivateNamesStack.length-1][e.key.name],e.key},t.prototype.parsePrivateName=function(){var e=this.startNode();return e.name=this.value,this.next(),this.finishNode(e,"PrivateName"),"never"==this.options.allowReserved&&this.checkUnreserved(e),e},t.prototype.getTokenFromCode=function(t){if(35===t){++this.pos;var r=this.readWord1();return this.finishToken(this.privateNameToken,r)}return e.prototype.getTokenFromCode.call(this,t)},t.prototype.parseClass=function(t,r){this._privateBoundNamesStack=this._privateBoundNamesStack||[];var i=Object.create(this._privateBoundNamesStack[this._privateBoundNamesStack.length-1]||null);this._privateBoundNamesStack.push(i),this._unresolvedPrivateNamesStack=this._unresolvedPrivateNamesStack||[];var n=Object.create(null);this._unresolvedPrivateNamesStack.push(n);var s=e.prototype.parseClass.call(this,t,r);if(this._privateBoundNamesStack.pop(),this._unresolvedPrivateNamesStack.pop(),this._unresolvedPrivateNamesStack.length)Object.assign(this._unresolvedPrivateNamesStack[this._unresolvedPrivateNamesStack.length-1],n);else{var a=Object.keys(n);a.length&&(a.sort((function(e,t){return n[e]-n[t]})),this.raise(n[a[0]],"Usage of undeclared private name"))}return s},t.prototype.parseSubscript=function(t,r,i,s,a){if(!this.eat(n.dot))return e.prototype.parseSubscript.call(this,t,r,i,s,a);var o=this.startNodeAt(r,i);return o.object=t,o.computed=!1,this.type==this.privateNameToken?(o.property=this.parsePrivateName(),this._privateBoundNamesStack.length&&this._privateBoundNamesStack[this._privateBoundNamesStack.length-1][o.property.name]||(this._unresolvedPrivateNamesStack[this._unresolvedPrivateNamesStack.length-1][o.property.name]=o.property.start)):o.property=this.parseIdent(!0),this.finishNode(o,"MemberExpression")},t.prototype.parseMaybeUnary=function(t,r){var i=e.prototype.parseMaybeUnary.call(this,t,r);return"delete"==i.operator&&"MemberExpression"==i.argument.type&&"PrivateName"==i.argument.property.type&&this.raise(i.start,"Private elements may not be deleted"),i},t}(e),e.prototype.privateNameToken=new s("privateName"),e}},3511:(e,t,r)=>{var i=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,n=r(3270).tokTypes;function s(e){if(this.eat(n.eq)){var t=this._inStaticFieldValue;this._inStaticFieldValue=!0,e.value=this.parseExpression(),this._inStaticFieldValue=t}else e.value=null}var a=r(4078);e.exports=function(e){return function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseClassElement=function(t){var r=this;if(this.eat(n.semi))return null;var a=this.startNode(),o=function(e,t){void 0===t&&(t=!1);var i=r.start,s=r.startLoc;return!!r.eatContextual(e)&&(!(r.type===n.parenL||t&&r.canInsertSemicolon())||(a.key&&r.unexpected(),a.computed=!1,a.key=r.startNodeAt(i,s),a.key.name=e,r.finishNode(a.key,"Identifier"),!1))};if(a.static=o("static"),!a.static)return e.prototype.parseClassElement.apply(this,arguments);var c=this.eat(n.star),p=!1;if(!c)if(this.options.ecmaVersion>=8&&this.isContextual("async")){i.lastIndex=this.pos;var l=i.exec(this.input),u=this.input.charAt(this.pos+l[0].length);if(";"===u||"="===u)return a.key=this.parseIdent(!0),a.computed=!1,s.call(this,a),this.finishNode(a,"FieldDefinition"),this.semicolon(),a;this.options.ecmaVersion>=8&&o("async",!0)&&(p=!0,c=this.options.ecmaVersion>=9&&this.eat(n.star))}else o("get")?a.kind="get":o("set")&&(a.kind="set");if(this.type===this.privateNameToken){if(this.parsePrivateClassElementName(a),this.type!==n.parenL)return"prototype"===a.key.name&&this.raise(a.key.start,"Classes may not have a private static property named prototype"),s.call(this,a),this.finishNode(a,"FieldDefinition"),this.semicolon(),a}else a.key||(this.parsePropertyName(a),"prototype"!==(a.key.name||a.key.value)||a.computed||this.raise(a.key.start,"Classes may not have a static property named prototype"));return a.kind||(a.kind="method"),this.parseClassMethod(a,c,p),a.kind||"constructor"!==(a.key.name||a.key.value)||a.computed||this.raise(a.key.start,"Classes may not have a static field named constructor"),"get"===a.kind&&0!==a.value.params.length&&this.raiseRecoverable(a.value.start,"getter should have no params"),"set"===a.kind&&1!==a.value.params.length&&this.raiseRecoverable(a.value.start,"setter should have exactly one param"),"set"===a.kind&&"RestElement"===a.value.params[0].type&&this.raiseRecoverable(a.value.params[0].start,"Setter cannot use rest params"),a},t.prototype.parseClassMethod=function(t,r,i,a){return r||i||"method"!=t.kind||!t.static||this.options.ecmaVersion<8||this.type==n.parenL?e.prototype.parseClassMethod.apply(this,arguments):(s.call(this,t),delete t.kind,t=this.finishNode(t,"FieldDefinition"),this.semicolon(),t)},t.prototype.parseIdent=function(t,r){var i=e.prototype.parseIdent.call(this,t,r);return this._inStaticFieldValue&&"arguments"==i.name&&this.raise(i.start,"A static class field initializer may not contain arguments"),i},t}(a(e))}},5134:e=>{e.exports=function(){function e(t,r,i){function n(a,o){if(!r[a]){if(!t[a]){if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var p=r[a]={exports:{}};t[a][0].call(p.exports,(function(e){return n(t[a][1][e]||e)}),p,p.exports,e,t,r,i)}return r[a].exports}for(var s=void 0,a=0;a<i.length;a++)n(i[a]);return n}return e}()({1:[function(e,t,r){var i=e("fs"),n=e("path"),s=e("./utils"),a=!1,o=e("../package.json").version,c="<",p=">",l="%",u="locals",h="ejs",d="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",f=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],_=f.concat("cache"),m=/^\uFEFF/,g=/^[a-zA-Z_$][0-9a-zA-Z_$]*$/;function v(e,t){var n;if(t.some((function(t){return n=r.resolveInclude(e,t,!0),i.existsSync(n)})))return n}function y(e,t){var n,s,a=t.views,o=/^[A-Za-z]+:\\|^\//.exec(e);if(o&&o.length)e=e.replace(/^\/*/,""),n=Array.isArray(t.root)?v(e,t.root):r.resolveInclude(e,t.root||"/",!0);else if(t.filename&&(s=r.resolveInclude(e,t.filename),i.existsSync(s)&&(n=s)),!n&&Array.isArray(a)&&(n=v(e,a)),!n&&"function"!=typeof t.includer)throw new Error('Could not find the include file "'+t.escapeFunction(e)+'"');return n}function x(e,t){var i,n=e.filename,s=arguments.length>1;if(e.cache){if(!n)throw new Error("cache option requires a filename");if(i=r.cache.get(n))return i;s||(t=E(n).toString().replace(m,""))}else if(!s){if(!n)throw new Error("Internal EJS error: no file name or template provided");t=E(n).toString().replace(m,"")}return i=r.compile(t,e),e.cache&&r.cache.set(n,i),i}function b(e,t,i){var n;if(!i){if("function"==typeof r.promiseImpl)return new r.promiseImpl((function(r,i){try{r(n=x(e)(t))}catch(e){i(e)}}));throw new Error("Please provide a callback function")}try{n=x(e)(t)}catch(e){return i(e)}i(null,n)}function E(e){return r.fileLoader(e)}function w(e,t){var r=s.shallowCopy(s.createNullProtoObjWherePossible(),t);if(r.filename=y(e,r),"function"==typeof t.includer){var i=t.includer(e,r.filename);if(i&&(i.filename&&(r.filename=i.filename),i.template))return x(r,i.template)}return x(r)}function k(e,t,r,i,n){var s=t.split("\n"),a=Math.max(i-3,0),o=Math.min(s.length,i+3),c=n(r),p=s.slice(a,o).map((function(e,t){var r=t+a+1;return(r==i?" >> ":"    ")+r+"| "+e})).join("\n");throw e.path=c,e.message=(c||"ejs")+":"+i+"\n"+p+"\n\n"+e.message,e}function S(e){return e.replace(/;(\s*$)/,"$1")}function A(e,t){var i=s.hasOwnOnlyObject(t),n=s.createNullProtoObjWherePossible();this.templateText=e,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",n.client=i.client||!1,n.escapeFunction=i.escape||i.escapeFunction||s.escapeXML,n.compileDebug=!1!==i.compileDebug,n.debug=!!i.debug,n.filename=i.filename,n.openDelimiter=i.openDelimiter||r.openDelimiter||c,n.closeDelimiter=i.closeDelimiter||r.closeDelimiter||p,n.delimiter=i.delimiter||r.delimiter||l,n.strict=i.strict||!1,n.context=i.context,n.cache=i.cache||!1,n.rmWhitespace=i.rmWhitespace,n.root=i.root,n.includer=i.includer,n.outputFunctionName=i.outputFunctionName,n.localsName=i.localsName||r.localsName||u,n.views=i.views,n.async=i.async,n.destructuredLocals=i.destructuredLocals,n.legacyInclude=void 0===i.legacyInclude||!!i.legacyInclude,n.strict?n._with=!1:n._with=void 0===i._with||i._with,this.opts=n,this.regex=this.createRegex()}r.cache=s.cache,r.fileLoader=i.readFileSync,r.localsName=u,r.promiseImpl=new Function("return this;")().Promise,r.resolveInclude=function(e,t,r){var i=n.dirname,s=n.extname,a=(0,n.resolve)(r?t:i(t),e);return s(e)||(a+=".ejs"),a},r.compile=function(e,t){return t&&t.scope&&(a||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),a=!0),t.context||(t.context=t.scope),delete t.scope),new A(e,t).compile()},r.render=function(e,t,r){var i=t||s.createNullProtoObjWherePossible(),n=r||s.createNullProtoObjWherePossible();return 2==arguments.length&&s.shallowCopyFromList(n,i,f),x(n,e)(i)},r.renderFile=function(){var e,t,r,i=Array.prototype.slice.call(arguments),n=i.shift(),a={filename:n};return"function"==typeof arguments[arguments.length-1]&&(e=i.pop()),i.length?(t=i.shift(),i.length?s.shallowCopy(a,i.pop()):(t.settings&&(t.settings.views&&(a.views=t.settings.views),t.settings["view cache"]&&(a.cache=!0),(r=t.settings["view options"])&&s.shallowCopy(a,r)),s.shallowCopyFromList(a,t,_)),a.filename=n):t=s.createNullProtoObjWherePossible(),b(a,t,e)},r.Template=A,r.clearCache=function(){r.cache.reset()},A.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},A.prototype={createRegex:function(){var e=d,t=s.escapeRegExpChars(this.opts.delimiter),r=s.escapeRegExpChars(this.opts.openDelimiter),i=s.escapeRegExpChars(this.opts.closeDelimiter);return e=e.replace(/%/g,t).replace(/</g,r).replace(/>/g,i),new RegExp(e)},compile:function(){var e,t,r,i=this.opts,a="",o="",c=i.escapeFunction,p=i.filename?JSON.stringify(i.filename):"undefined";if(!this.source){if(this.generateSource(),a+='  var __output = "";\n  function __append(...args) { args.filter(x => x !== undefined && x !== null).forEach(s => __output += s) }\n',i.outputFunctionName){if(!g.test(i.outputFunctionName))throw new Error("outputFunctionName is not a valid JS identifier.");a+="  var "+i.outputFunctionName+" = __append;\n"}if(i.localsName&&!g.test(i.localsName))throw new Error("localsName is not a valid JS identifier.");if(i.destructuredLocals&&i.destructuredLocals.length){for(var l="  var __locals = ("+i.localsName+" || {}),\n",u=0;u<i.destructuredLocals.length;u++){var h=i.destructuredLocals[u];if(!g.test(h))throw new Error("destructuredLocals["+u+"] is not a valid JS identifier.");u>0&&(l+=",\n  "),l+=h+" = __locals."+h}a+=l+";\n"}!1!==i._with&&(a+="  with ("+i.localsName+" || {}) {\n",o+="  }\n"),o+="  return __output;\n",this.source=a+this.source+o}e=i.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+p+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line, escapeFn);\n}\n":this.source,i.client&&(e="escapeFn = escapeFn || "+c.toString()+";\n"+e,i.compileDebug&&(e="rethrow = rethrow || "+k.toString()+";\n"+e)),i.strict&&(e='"use strict";\n'+e),i.debug&&console.log(e),i.compileDebug&&i.filename&&(e=e+"\n//# sourceURL="+p+"\n");try{if(i.async)try{r=new Function("return (async function(){}).constructor;")()}catch(e){throw e instanceof SyntaxError?new Error("This environment does not support async/await"):e}else r=Function;t=new r(i.localsName+", escapeFn, include, rethrow",e)}catch(e){throw e instanceof SyntaxError&&(i.filename&&(e.message+=" in "+i.filename),e.message+=" while compiling ejs\n\n"),e}var d=i.client?t:function(e){var r=function(t,r){var n=s.shallowCopy(s.createNullProtoObjWherePossible(),e);return r&&(n=s.shallowCopy(n,r)),w(t,i)(n)};return t.apply(i.context,[e||s.createNullProtoObjWherePossible(),c,r,k])};if(i.filename&&"function"==typeof Object.defineProperty){var f=i.filename,_=n.basename(f,n.extname(f));try{Object.defineProperty(d,"name",{value:_,writable:!1,enumerable:!1,configurable:!0})}catch(e){}}return d},generateSource:function(){this.opts.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var e=this,t=this.parseTemplateText(),r=this.opts.delimiter,i=this.opts.openDelimiter,n=this.opts.closeDelimiter;t&&t.length&&t.forEach((function(s,a){var o;if(0===s.indexOf(i+r)&&0!==s.indexOf(i+r+r)&&(o=t[a+2])!=r+n&&o!="-"+r+n&&o!="_"+r+n)throw new Error('Could not find matching close tag for "'+s+'".');e.scanLine(s)}))},parseTemplateText:function(){for(var e,t=this.templateText,r=this.regex,i=r.exec(t),n=[];i;)0!==(e=i.index)&&(n.push(t.substring(0,e)),t=t.slice(e)),n.push(i[0]),t=t.slice(i[0].length),i=r.exec(t);return t&&n.push(t),n},_addOutput:function(e){if(this.truncate&&(e=e.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!e)return e;e=(e=(e=(e=e.replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/"/g,'\\"'),this.source+='    ; __append("'+e+'")\n'},scanLine:function(e){var t=this,r=this.opts.delimiter,i=this.opts.openDelimiter,n=this.opts.closeDelimiter,s=0;switch(s=e.split("\n").length-1,e){case i+r:case i+r+"_":this.mode=A.modes.EVAL;break;case i+r+"=":this.mode=A.modes.ESCAPED;break;case i+r+"-":this.mode=A.modes.RAW;break;case i+r+"#":this.mode=A.modes.COMMENT;break;case i+r+r:this.mode=A.modes.LITERAL,this.source+='    ; __append("'+e.replace(i+r+r,i+r)+'")\n';break;case r+r+n:this.mode=A.modes.LITERAL,this.source+='    ; __append("'+e.replace(r+r+n,r+n)+'")\n';break;case r+n:case"-"+r+n:case"_"+r+n:this.mode==A.modes.LITERAL&&this._addOutput(e),this.mode=null,this.truncate=0===e.indexOf("-")||0===e.indexOf("_");break;default:if(this.mode){switch(this.mode){case A.modes.EVAL:case A.modes.ESCAPED:case A.modes.RAW:e.lastIndexOf("//")>e.lastIndexOf("\n")&&(e+="\n")}switch(this.mode){case A.modes.EVAL:this.source+="    ; "+e+"\n";break;case A.modes.ESCAPED:this.source+="    ; __append(escapeFn("+S(e)+"))\n";break;case A.modes.RAW:this.source+="    ; __append("+S(e)+")\n";break;case A.modes.COMMENT:break;case A.modes.LITERAL:this._addOutput(e)}}else this._addOutput(e)}t.opts.compileDebug&&s&&(this.currentLine+=s,this.source+="    ; __line = "+this.currentLine+"\n")}},r.escapeXML=s.escapeXML,r.__express=r.renderFile,r.VERSION=o,r.name=h,"undefined"!=typeof window&&(window.ejs=r)},{"../package.json":6,"./utils":2,fs:3,path:4}],2:[function(e,t,r){var i=/[|\\{}()[\]^$+*?.]/g,n=Object.prototype.hasOwnProperty,s=function(e,t){return n.apply(e,[t])};r.escapeRegExpChars=function(e){return e?String(e).replace(i,"\\$&"):""};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},o=/[&<>'"]/g;function c(e){return a[e]||e}var p='var _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n';function l(){return Function.prototype.toString.call(this)+";\n"+p}r.escapeXML=function(e){return null==e?"":String(e).replace(o,c)};try{"function"==typeof Object.defineProperty?Object.defineProperty(r.escapeXML,"toString",{value:l}):r.escapeXML.toString=l}catch(e){console.warn("Unable to set escapeXML.toString (is the Function prototype frozen?)")}r.shallowCopy=function(e,t){if(t=t||{},null!=e)for(var r in t)s(t,r)&&"__proto__"!==r&&"constructor"!==r&&(e[r]=t[r]);return e},r.shallowCopyFromList=function(e,t,r){if(r=r||[],t=t||{},null!=e)for(var i=0;i<r.length;i++){var n=r[i];if(void 0!==t[n]){if(!s(t,n))continue;if("__proto__"===n||"constructor"===n)continue;e[n]=t[n]}}return e},r.cache={_data:{},set:function(e,t){this._data[e]=t},get:function(e){return this._data[e]},remove:function(e){delete this._data[e]},reset:function(){this._data={}}},r.hyphenToCamel=function(e){return e.replace(/-[a-z]/g,(function(e){return e[1].toUpperCase()}))},r.createNullProtoObjWherePossible="function"==typeof Object.create?function(){return Object.create(null)}:{__proto__:null}instanceof Object?function(){return{}}:function(){return{__proto__:null}},r.hasOwnOnlyObject=function(e){var t=r.createNullProtoObjWherePossible();for(var i in e)s(e,i)&&(t[i]=e[i]);return t}},{}],3:[function(e,t,r){},{}],4:[function(e,t,r){(function(e){function t(e,t){for(var r=0,i=e.length-1;i>=0;i--){var n=e[i];"."===n?e.splice(i,1):".."===n?(e.splice(i,1),r++):r&&(e.splice(i,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function i(e){"string"!=typeof e&&(e+="");var t,r=0,i=-1,n=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!n){r=t+1;break}}else-1===i&&(n=!1,i=t+1);return-1===i?"":e.slice(r,i)}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],i=0;i<e.length;i++)t(e[i],i,e)&&r.push(e[i]);return r}r.resolve=function(){for(var r="",i=!1,s=arguments.length-1;s>=-1&&!i;s--){var a=s>=0?arguments[s]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(r=a+"/"+r,i="/"===a.charAt(0))}return(i?"/":"")+(r=t(n(r.split("/"),(function(e){return!!e})),!i).join("/"))||"."},r.normalize=function(e){var i=r.isAbsolute(e),a="/"===s(e,-1);return(e=t(n(e.split("/"),(function(e){return!!e})),!i).join("/"))||i||(e="."),e&&a&&(e+="/"),(i?"/":"")+e},r.isAbsolute=function(e){return"/"===e.charAt(0)},r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(n(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},r.relative=function(e,t){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=r.resolve(e).substr(1),t=r.resolve(t).substr(1);for(var n=i(e.split("/")),s=i(t.split("/")),a=Math.min(n.length,s.length),o=a,c=0;c<a;c++)if(n[c]!==s[c]){o=c;break}var p=[];for(c=o;c<n.length;c++)p.push("..");return(p=p.concat(s.slice(o))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,i=-1,n=!0,s=e.length-1;s>=1;--s)if(47===(t=e.charCodeAt(s))){if(!n){i=s;break}}else n=!1;return-1===i?r?"/":".":r&&1===i?"/":e.slice(0,i)},r.basename=function(e,t){var r=i(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},r.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,r=0,i=-1,n=!0,s=0,a=e.length-1;a>=0;--a){var o=e.charCodeAt(a);if(47!==o)-1===i&&(n=!1,i=a+1),46===o?-1===t?t=a:1!==s&&(s=1):-1!==t&&(s=-1);else if(!n){r=a+1;break}}return-1===t||-1===i||0===s||1===s&&t===i-1&&t===r+1?"":e.slice(t,i)};var s=function(e,t,r){return e.substr(t,r)}}).call(this,e("_process"))},{_process:5}],5:[function(e,t,r){var i,n,s=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function c(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function p(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l,u=[],h=!1,d=-1;function f(){h&&l&&(h=!1,l.length?u=l.concat(u):d=-1,u.length&&_())}function _(){if(!h){var e=c(f);h=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,h=!1,p(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new m(e,t)),1!==u.length||h||c(_)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=g,s.addListener=g,s.once=g,s.off=g,s.removeListener=g,s.removeAllListeners=g,s.emit=g,s.prependListener=g,s.prependOnceListener=g,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],6:[function(e,t,r){t.exports={name:"ejs",description:"Embedded JavaScript templates",keywords:["template","engine","ejs"],version:"3.1.9",author:"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",license:"Apache-2.0",bin:{ejs:"./bin/cli.js"},main:"./lib/ejs.js",jsdelivr:"ejs.min.js",unpkg:"ejs.min.js",repository:{type:"git",url:"git://github.com/mde/ejs.git"},bugs:"https://github.com/mde/ejs/issues",homepage:"https://github.com/mde/ejs",dependencies:{jake:"^10.8.5"},devDependencies:{browserify:"^16.5.1",eslint:"^6.8.0","git-directory-deploy":"^1.5.1",jsdoc:"^4.0.2","lru-cache":"^4.0.1",mocha:"^10.2.0","uglify-js":"^3.3.16"},engines:{node:">=0.10.0"},scripts:{test:"npx jake test"}}},{}]},{},[1])(1)},5233:(module,__unused_webpack_exports,__webpack_require__)=>{var aparse=__webpack_require__(7921).parse;function parse(e,t){return t||(t={}),aparse(e,t)}function errorInfo(e,t,r){try{parse(e,r)}catch(r){return new ParseError(r,e,t)}}function ParseError(e,t,r){SyntaxError.call(this),this.message=e.message.replace(/\s+\(\d+:\d+\)$/,""),this.line=e.loc.line,this.column=e.loc.column+1,this.annotated="\n"+(r||"(anonymous file)")+":"+this.line+"\n"+t.split("\n")[this.line-1]+"\n"+Array(this.column).join(" ")+"^\nParseError: "+this.message}module.exports=function(src,file,opts){"string"!=typeof src&&(src=String(src));try{return void eval('throw "STOP"; (function () { '+src+"\n})()")}catch(e){if("STOP"===e)return;return"SyntaxError"!==e.constructor.name?e:errorInfo(src,file,opts)}},ParseError.prototype=Object.create(SyntaxError.prototype),ParseError.prototype.toString=function(){return this.annotated},ParseError.prototype.inspect=function(){return this.annotated}},8961:(__unused_webpack_module,exports)=>{var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,i=r.eval,n=r.execScript;!i&&n&&(n.call(r,"null"),i=r.eval),forEach(Object_keys(e),(function(t){r[t]=e[t]})),forEach(globals,(function(t){e[t]&&(r[t]=e[t])}));var s=Object_keys(r),a=i.call(r,this.code);return forEach(Object_keys(r),(function(t){(t in e||-1===indexOf(s,t))&&(e[t]=r[t])})),forEach(globals,(function(t){t in e||defineProp(e,t,r[t])})),document.body.removeChild(t),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return e&&forEach(Object_keys(t),(function(r){e[r]=t[r]})),r},forEach(Object_keys(Script.prototype),(function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}})),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),(function(r){t[r]=e[r]})),t}},7510:e=>{e.exports=function(){for(var e={},r=0;r<arguments.length;r++){var i=arguments[r];for(var n in i)t.call(i,n)&&(e[n]=i[n])}return e};var t=Object.prototype.hasOwnProperty},4359:e=>{e.exports=__WEBPACK_EXTERNAL_MODULE_https_esm_sh_faker_js_faker_7a747e38__},9306:(e,t,r)=>{var i=r(4901),n=r(6823),s=TypeError;e.exports=function(e){if(i(e))return e;throw new s(n(e)+" is not a function")}},3506:(e,t,r)=>{var i=r(3925),n=String,s=TypeError;e.exports=function(e){if(i(e))return e;throw new s("Can't set "+n(e)+" as a prototype")}},6469:(e,t,r)=>{var i=r(8227),n=r(2360),s=r(4913).f,a=i("unscopables"),o=Array.prototype;void 0===o[a]&&s(o,a,{configurable:!0,value:n(null)}),e.exports=function(e){o[a][e]=!0}},7829:(e,t,r)=>{var i=r(8183).charAt;e.exports=function(e,t,r){return t+(r?i(e,t).length:1)}},8551:(e,t,r)=>{var i=r(34),n=String,s=TypeError;e.exports=function(e){if(i(e))return e;throw new s(n(e)+" is not an object")}},9617:(e,t,r)=>{var i=r(5397),n=r(5610),s=r(6198),a=function(e){return function(t,r,a){var o=i(t),c=s(o);if(0===c)return!e&&-1;var p,l=n(a,c);if(e&&r!=r){for(;c>l;)if((p=o[l++])!=p)return!0}else for(;c>l;l++)if((e||l in o)&&o[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},4598:(e,t,r)=>{var i=r(9039);e.exports=function(e,t){var r=[][e];return!!r&&i((function(){r.call(null,t||function(){return 1},1)}))}},7680:(e,t,r)=>{var i=r(9504);e.exports=i([].slice)},4488:(e,t,r)=>{var i=r(7680),n=Math.floor,s=function(e,t){var r=e.length;if(r<8)for(var a,o,c=1;c<r;){for(o=c,a=e[c];o&&t(e[o-1],a)>0;)e[o]=e[--o];o!==c++&&(e[o]=a)}else for(var p=n(r/2),l=s(i(e,0,p),t),u=s(i(e,p),t),h=l.length,d=u.length,f=0,_=0;f<h||_<d;)e[f+_]=f<h&&_<d?t(l[f],u[_])<=0?l[f++]:u[_++]:f<h?l[f++]:u[_++];return e};e.exports=s},2195:(e,t,r)=>{var i=r(9504),n=i({}.toString),s=i("".slice);e.exports=function(e){return s(n(e),8,-1)}},6955:(e,t,r)=>{var i=r(2140),n=r(4901),s=r(2195),a=r(8227)("toStringTag"),o=Object,c="Arguments"===s(function(){return arguments}());e.exports=i?s:function(e){var t,r,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=o(e),a))?r:c?s(t):"Object"===(i=s(t))&&n(t.callee)?"Arguments":i}},7740:(e,t,r)=>{var i=r(9297),n=r(5031),s=r(7347),a=r(4913);e.exports=function(e,t,r){for(var o=n(t),c=a.f,p=s.f,l=0;l<o.length;l++){var u=o[l];i(e,u)||r&&i(r,u)||c(e,u,p(t,u))}}},2211:(e,t,r)=>{var i=r(9039);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},2529:e=>{e.exports=function(e,t){return{value:e,done:t}}},6699:(e,t,r)=>{var i=r(3724),n=r(4913),s=r(6980);e.exports=i?function(e,t,r){return n.f(e,t,s(1,r))}:function(e,t,r){return e[t]=r,e}},6980:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},2106:(e,t,r)=>{var i=r(283),n=r(4913);e.exports=function(e,t,r){return r.get&&i(r.get,t,{getter:!0}),r.set&&i(r.set,t,{setter:!0}),n.f(e,t,r)}},6840:(e,t,r)=>{var i=r(4901),n=r(4913),s=r(283),a=r(9433);e.exports=function(e,t,r,o){o||(o={});var c=o.enumerable,p=void 0!==o.name?o.name:t;if(i(r)&&s(r,p,o),o.global)c?e[t]=r:a(t,r);else{try{o.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=r:n.f(e,t,{value:r,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return e}},9433:(e,t,r)=>{var i=r(4576),n=Object.defineProperty;e.exports=function(e,t){try{n(i,e,{value:t,configurable:!0,writable:!0})}catch(r){i[e]=t}return t}},4606:(e,t,r)=>{var i=r(6823),n=TypeError;e.exports=function(e,t){if(!delete e[t])throw new n("Cannot delete property "+i(t)+" of "+i(e))}},3724:(e,t,r)=>{var i=r(9039);e.exports=!i((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4055:(e,t,r)=>{var i=r(4576),n=r(34),s=i.document,a=n(s)&&n(s.createElement);e.exports=function(e){return a?s.createElement(e):{}}},7400:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9296:(e,t,r)=>{var i=r(4055)("span").classList,n=i&&i.constructor&&i.constructor.prototype;e.exports=n===Object.prototype?void 0:n},8727:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3709:(e,t,r)=>{var i=r(2839).match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},3763:(e,t,r)=>{var i=r(2839);e.exports=/MSIE|Trident/.test(i)},2839:(e,t,r)=>{var i=r(4576).navigator,n=i&&i.userAgent;e.exports=n?String(n):""},9519:(e,t,r)=>{var i,n,s=r(4576),a=r(2839),o=s.process,c=s.Deno,p=o&&o.versions||c&&c.version,l=p&&p.v8;l&&(n=(i=l.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!n&&a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(n=+i[1]),e.exports=n},3607:(e,t,r)=>{var i=r(2839).match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},6518:(e,t,r)=>{var i=r(4576),n=r(7347).f,s=r(6699),a=r(6840),o=r(9433),c=r(7740),p=r(2796);e.exports=function(e,t){var r,l,u,h,d,f=e.target,_=e.global,m=e.stat;if(r=_?i:m?i[f]||o(f,{}):i[f]&&i[f].prototype)for(l in t){if(h=t[l],u=e.dontCallGetSet?(d=n(r,l))&&d.value:r[l],!p(_?l:f+(m?".":"#")+l,e.forced)&&void 0!==u){if(typeof h==typeof u)continue;c(h,u)}(e.sham||u&&u.sham)&&s(h,"sham",!0),a(r,l,h,e)}}},9039:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},9228:(e,t,r)=>{r(7495);var i=r(9565),n=r(6840),s=r(7323),a=r(9039),o=r(8227),c=r(6699),p=o("species"),l=RegExp.prototype;e.exports=function(e,t,r,u){var h=o(e),d=!a((function(){var t={};return t[h]=function(){return 7},7!==""[e](t)})),f=d&&!a((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[p]=function(){return r},r.flags="",r[h]=/./[h]),r.exec=function(){return t=!0,null},r[h](""),!t}));if(!d||!f||r){var _=/./[h],m=t(h,""[e],(function(e,t,r,n,a){var o=t.exec;return o===s||o===l.exec?d&&!a?{done:!0,value:i(_,t,r,n)}:{done:!0,value:i(e,r,t,n)}:{done:!1}}));n(String.prototype,e,m[0]),n(l,h,m[1])}u&&c(l[h],"sham",!0)}},8745:(e,t,r)=>{var i=r(616),n=Function.prototype,s=n.apply,a=n.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?a.bind(s):function(){return a.apply(s,arguments)})},616:(e,t,r)=>{var i=r(9039);e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},9565:(e,t,r)=>{var i=r(616),n=Function.prototype.call;e.exports=i?n.bind(n):function(){return n.apply(n,arguments)}},350:(e,t,r)=>{var i=r(3724),n=r(9297),s=Function.prototype,a=i&&Object.getOwnPropertyDescriptor,o=n(s,"name"),c=o&&"something"===function(){}.name,p=o&&(!i||i&&a(s,"name").configurable);e.exports={EXISTS:o,PROPER:c,CONFIGURABLE:p}},6706:(e,t,r)=>{var i=r(9504),n=r(9306);e.exports=function(e,t,r){try{return i(n(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},9504:(e,t,r)=>{var i=r(616),n=Function.prototype,s=n.call,a=i&&n.bind.bind(s,s);e.exports=i?a:function(e){return function(){return s.apply(e,arguments)}}},7751:(e,t,r)=>{var i=r(4576),n=r(4901);e.exports=function(e,t){return arguments.length<2?(r=i[e],n(r)?r:void 0):i[e]&&i[e][t];var r}},5966:(e,t,r)=>{var i=r(9306),n=r(4117);e.exports=function(e,t){var r=e[t];return n(r)?void 0:i(r)}},2478:(e,t,r)=>{var i=r(9504),n=r(8981),s=Math.floor,a=i("".charAt),o=i("".replace),c=i("".slice),p=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,i,u,h){var d=r+e.length,f=i.length,_=l;return void 0!==u&&(u=n(u),_=p),o(h,_,(function(n,o){var p;switch(a(o,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,r);case"'":return c(t,d);case"<":p=u[c(o,1,-1)];break;default:var l=+o;if(0===l)return n;if(l>f){var h=s(l/10);return 0===h?n:h<=f?void 0===i[h-1]?a(o,1):i[h-1]+a(o,1):n}p=i[l-1]}return void 0===p?"":p}))}},4576:function(e,t,r){var i=function(e){return e&&e.Math===Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof r.g&&r.g)||i("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:(e,t,r)=>{var i=r(9504),n=r(8981),s=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(n(e),t)}},421:e=>{e.exports={}},397:(e,t,r)=>{var i=r(7751);e.exports=i("document","documentElement")},5917:(e,t,r)=>{var i=r(3724),n=r(9039),s=r(4055);e.exports=!i&&!n((function(){return 7!==Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},7055:(e,t,r)=>{var i=r(9504),n=r(9039),s=r(2195),a=Object,o=i("".split);e.exports=n((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===s(e)?o(e,""):a(e)}:a},3167:(e,t,r)=>{var i=r(4901),n=r(34),s=r(2967);e.exports=function(e,t,r){var a,o;return s&&i(a=t.constructor)&&a!==r&&n(o=a.prototype)&&o!==r.prototype&&s(e,o),e}},3706:(e,t,r)=>{var i=r(9504),n=r(4901),s=r(7629),a=i(Function.toString);n(s.inspectSource)||(s.inspectSource=function(e){return a(e)}),e.exports=s.inspectSource},1181:(e,t,r)=>{var i,n,s,a=r(8622),o=r(4576),c=r(34),p=r(6699),l=r(9297),u=r(7629),h=r(6119),d=r(421),f="Object already initialized",_=o.TypeError,m=o.WeakMap;if(a||u.state){var g=u.state||(u.state=new m);g.get=g.get,g.has=g.has,g.set=g.set,i=function(e,t){if(g.has(e))throw new _(f);return t.facade=e,g.set(e,t),t},n=function(e){return g.get(e)||{}},s=function(e){return g.has(e)}}else{var v=h("state");d[v]=!0,i=function(e,t){if(l(e,v))throw new _(f);return t.facade=e,p(e,v,t),t},n=function(e){return l(e,v)?e[v]:{}},s=function(e){return l(e,v)}}e.exports={set:i,get:n,has:s,enforce:function(e){return s(e)?n(e):i(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=n(t)).type!==e)throw new _("Incompatible receiver, "+e+" required");return r}}}},4901:e=>{var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},2796:(e,t,r)=>{var i=r(9039),n=r(4901),s=/#|\.prototype\./,a=function(e,t){var r=c[o(e)];return r===l||r!==p&&(n(t)?i(t):!!t)},o=a.normalize=function(e){return String(e).replace(s,".").toLowerCase()},c=a.data={},p=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},4117:e=>{e.exports=function(e){return null==e}},34:(e,t,r)=>{var i=r(4901);e.exports=function(e){return"object"==typeof e?null!==e:i(e)}},3925:(e,t,r)=>{var i=r(34);e.exports=function(e){return i(e)||null===e}},6395:e=>{e.exports=!1},788:(e,t,r)=>{var i=r(34),n=r(2195),s=r(8227)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[s])?!!t:"RegExp"===n(e))}},757:(e,t,r)=>{var i=r(7751),n=r(4901),s=r(1625),a=r(7040),o=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return n(t)&&s(t.prototype,o(e))}},3994:(e,t,r)=>{var i=r(7657).IteratorPrototype,n=r(2360),s=r(6980),a=r(687),o=r(6269),c=function(){return this};e.exports=function(e,t,r,p){var l=t+" Iterator";return e.prototype=n(i,{next:s(+!p,r)}),a(e,l,!1,!0),o[l]=c,e}},1088:(e,t,r)=>{var i=r(6518),n=r(9565),s=r(6395),a=r(350),o=r(4901),c=r(3994),p=r(2787),l=r(2967),u=r(687),h=r(6699),d=r(6840),f=r(8227),_=r(6269),m=r(7657),g=a.PROPER,v=a.CONFIGURABLE,y=m.IteratorPrototype,x=m.BUGGY_SAFARI_ITERATORS,b=f("iterator"),E="keys",w="values",k="entries",S=function(){return this};e.exports=function(e,t,r,a,f,m,A){c(r,t,a);var C,T,P,N=function(e){if(e===f&&j)return j;if(!x&&e&&e in I)return I[e];switch(e){case E:case w:case k:return function(){return new r(this,e)}}return function(){return new r(this)}},O=t+" Iterator",L=!1,I=e.prototype,R=I[b]||I["@@iterator"]||f&&I[f],j=!x&&R||N(f),D="Array"===t&&I.entries||R;if(D&&(C=p(D.call(new e)))!==Object.prototype&&C.next&&(s||p(C)===y||(l?l(C,y):o(C[b])||d(C,b,S)),u(C,O,!0,!0),s&&(_[O]=S)),g&&f===w&&R&&R.name!==w&&(!s&&v?h(I,"name",w):(L=!0,j=function(){return n(R,this)})),f)if(T={values:N(w),keys:m?j:N(E),entries:N(k)},A)for(P in T)(x||L||!(P in I))&&d(I,P,T[P]);else i({target:t,proto:!0,forced:x||L},T);return s&&!A||I[b]===j||d(I,b,j,{name:f}),_[t]=j,T}},7657:(e,t,r)=>{var i,n,s,a=r(9039),o=r(4901),c=r(34),p=r(2360),l=r(2787),u=r(6840),h=r(8227),d=r(6395),f=h("iterator"),_=!1;[].keys&&("next"in(s=[].keys())?(n=l(l(s)))!==Object.prototype&&(i=n):_=!0),!c(i)||a((function(){var e={};return i[f].call(e)!==e}))?i={}:d&&(i=p(i)),o(i[f])||u(i,f,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:_}},6269:e=>{e.exports={}},6198:(e,t,r)=>{var i=r(8014);e.exports=function(e){return i(e.length)}},283:(e,t,r)=>{var i=r(9504),n=r(9039),s=r(4901),a=r(9297),o=r(3724),c=r(350).CONFIGURABLE,p=r(3706),l=r(1181),u=l.enforce,h=l.get,d=String,f=Object.defineProperty,_=i("".slice),m=i("".replace),g=i([].join),v=o&&!n((function(){return 8!==f((function(){}),"length",{value:8}).length})),y=String(String).split("String"),x=e.exports=function(e,t,r){"Symbol("===_(d(t),0,7)&&(t="["+m(d(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!a(e,"name")||c&&e.name!==t)&&(o?f(e,"name",{value:t,configurable:!0}):e.name=t),v&&r&&a(r,"arity")&&e.length!==r.arity&&f(e,"length",{value:r.arity});try{r&&a(r,"constructor")&&r.constructor?o&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var i=u(e);return a(i,"source")||(i.source=g(y,"string"==typeof t?t:"")),e};Function.prototype.toString=x((function(){return s(this)&&h(this).source||p(this)}),"toString")},741:e=>{var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var i=+e;return(i>0?r:t)(i)}},2360:(e,t,r)=>{var i,n=r(8551),s=r(6801),a=r(8727),o=r(421),c=r(397),p=r(4055),l=r(6119),u="prototype",h="script",d=l("IE_PROTO"),f=function(){},_=function(e){return"<"+h+">"+e+"</"+h+">"},m=function(e){e.write(_("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;g="undefined"!=typeof document?document.domain&&i?m(i):(t=p("iframe"),r="java"+h+":",t.style.display="none",c.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(_("document.F=Object")),e.close(),e.F):m(i);for(var n=a.length;n--;)delete g[u][a[n]];return g()};o[d]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(f[u]=n(e),r=new f,f[u]=null,r[d]=e):r=g(),void 0===t?r:s.f(r,t)}},6801:(e,t,r)=>{var i=r(3724),n=r(8686),s=r(4913),a=r(8551),o=r(5397),c=r(1072);t.f=i&&!n?Object.defineProperties:function(e,t){a(e);for(var r,i=o(t),n=c(t),p=n.length,l=0;p>l;)s.f(e,r=n[l++],i[r]);return e}},4913:(e,t,r)=>{var i=r(3724),n=r(5917),s=r(8686),a=r(8551),o=r(6969),c=TypeError,p=Object.defineProperty,l=Object.getOwnPropertyDescriptor,u="enumerable",h="configurable",d="writable";t.f=i?s?function(e,t,r){if(a(e),t=o(t),a(r),"function"==typeof e&&"prototype"===t&&"value"in r&&d in r&&!r[d]){var i=l(e,t);i&&i[d]&&(e[t]=r.value,r={configurable:h in r?r[h]:i[h],enumerable:u in r?r[u]:i[u],writable:!1})}return p(e,t,r)}:p:function(e,t,r){if(a(e),t=o(t),a(r),n)try{return p(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},7347:(e,t,r)=>{var i=r(3724),n=r(9565),s=r(8773),a=r(6980),o=r(5397),c=r(6969),p=r(9297),l=r(5917),u=Object.getOwnPropertyDescriptor;t.f=i?u:function(e,t){if(e=o(e),t=c(t),l)try{return u(e,t)}catch(e){}if(p(e,t))return a(!n(s.f,e,t),e[t])}},8480:(e,t,r)=>{var i=r(1828),n=r(8727).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,n)}},3717:(e,t)=>{t.f=Object.getOwnPropertySymbols},2787:(e,t,r)=>{var i=r(9297),n=r(4901),s=r(8981),a=r(6119),o=r(2211),c=a("IE_PROTO"),p=Object,l=p.prototype;e.exports=o?p.getPrototypeOf:function(e){var t=s(e);if(i(t,c))return t[c];var r=t.constructor;return n(r)&&t instanceof r?r.prototype:t instanceof p?l:null}},1625:(e,t,r)=>{var i=r(9504);e.exports=i({}.isPrototypeOf)},1828:(e,t,r)=>{var i=r(9504),n=r(9297),s=r(5397),a=r(9617).indexOf,o=r(421),c=i([].push);e.exports=function(e,t){var r,i=s(e),p=0,l=[];for(r in i)!n(o,r)&&n(i,r)&&c(l,r);for(;t.length>p;)n(i,r=t[p++])&&(~a(l,r)||c(l,r));return l}},1072:(e,t,r)=>{var i=r(1828),n=r(8727);e.exports=Object.keys||function(e){return i(e,n)}},8773:(e,t)=>{var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,n=i&&!r.call({1:2},1);t.f=n?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},2967:(e,t,r)=>{var i=r(6706),n=r(34),s=r(7750),a=r(3506);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=i(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,i){return s(r),a(i),n(r)?(t?e(r,i):r.__proto__=i,r):r}}():void 0)},4270:(e,t,r)=>{var i=r(9565),n=r(4901),s=r(34),a=TypeError;e.exports=function(e,t){var r,o;if("string"===t&&n(r=e.toString)&&!s(o=i(r,e)))return o;if(n(r=e.valueOf)&&!s(o=i(r,e)))return o;if("string"!==t&&n(r=e.toString)&&!s(o=i(r,e)))return o;throw new a("Can't convert object to primitive value")}},5031:(e,t,r)=>{var i=r(7751),n=r(9504),s=r(8480),a=r(3717),o=r(8551),c=n([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=s.f(o(e)),r=a.f;return r?c(t,r(e)):t}},1056:(e,t,r)=>{var i=r(4913).f;e.exports=function(e,t,r){r in e||i(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},6682:(e,t,r)=>{var i=r(9565),n=r(8551),s=r(4901),a=r(2195),o=r(7323),c=TypeError;e.exports=function(e,t){var r=e.exec;if(s(r)){var p=i(r,e,t);return null!==p&&n(p),p}if("RegExp"===a(e))return i(o,e,t);throw new c("RegExp#exec called on incompatible receiver")}},7323:(e,t,r)=>{var i,n,s=r(9565),a=r(9504),o=r(655),c=r(7979),p=r(8429),l=r(5745),u=r(2360),h=r(1181).get,d=r(3635),f=r(8814),_=l("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,g=m,v=a("".charAt),y=a("".indexOf),x=a("".replace),b=a("".slice),E=(n=/b*/g,s(m,i=/a/,"a"),s(m,n,"a"),0!==i.lastIndex||0!==n.lastIndex),w=p.BROKEN_CARET,k=void 0!==/()??/.exec("")[1];(E||k||w||d||f)&&(g=function(e){var t,r,i,n,a,p,l,d=this,f=h(d),S=o(e),A=f.raw;if(A)return A.lastIndex=d.lastIndex,t=s(g,A,S),d.lastIndex=A.lastIndex,t;var C=f.groups,T=w&&d.sticky,P=s(c,d),N=d.source,O=0,L=S;if(T&&(P=x(P,"y",""),-1===y(P,"g")&&(P+="g"),L=b(S,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==v(S,d.lastIndex-1))&&(N="(?: "+N+")",L=" "+L,O++),r=new RegExp("^(?:"+N+")",P)),k&&(r=new RegExp("^"+N+"$(?!\\s)",P)),E&&(i=d.lastIndex),n=s(m,T?r:d,L),T?n?(n.input=b(n.input,O),n[0]=b(n[0],O),n.index=d.lastIndex,d.lastIndex+=n[0].length):d.lastIndex=0:E&&n&&(d.lastIndex=d.global?n.index+n[0].length:i),k&&n&&n.length>1&&s(_,n[0],r,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(n[a]=void 0)})),n&&C)for(n.groups=p=u(null),a=0;a<C.length;a++)p[(l=C[a])[0]]=n[l[1]];return n}),e.exports=g},7979:(e,t,r)=>{var i=r(8551);e.exports=function(){var e=i(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},1034:(e,t,r)=>{var i=r(9565),n=r(9297),s=r(1625),a=r(7979),o=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in o||n(e,"flags")||!s(o,e)?t:i(a,e)}},8429:(e,t,r)=>{var i=r(9039),n=r(4576).RegExp,s=i((function(){var e=n("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),a=s||i((function(){return!n("a","y").sticky})),o=s||i((function(){var e=n("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:o,MISSED_STICKY:a,UNSUPPORTED_Y:s}},3635:(e,t,r)=>{var i=r(9039),n=r(4576).RegExp;e.exports=i((function(){var e=n(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},8814:(e,t,r)=>{var i=r(9039),n=r(4576).RegExp;e.exports=i((function(){var e=n("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},7750:(e,t,r)=>{var i=r(4117),n=TypeError;e.exports=function(e){if(i(e))throw new n("Can't call method on "+e);return e}},7633:(e,t,r)=>{var i=r(7751),n=r(2106),s=r(8227),a=r(3724),o=s("species");e.exports=function(e){var t=i(e);a&&t&&!t[o]&&n(t,o,{configurable:!0,get:function(){return this}})}},687:(e,t,r)=>{var i=r(4913).f,n=r(9297),s=r(8227)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!n(e,s)&&i(e,s,{configurable:!0,value:t})}},6119:(e,t,r)=>{var i=r(5745),n=r(3392),s=i("keys");e.exports=function(e){return s[e]||(s[e]=n(e))}},7629:(e,t,r)=>{var i=r(6395),n=r(4576),s=r(9433),a="__core-js_shared__",o=e.exports=n[a]||s(a,{});(o.versions||(o.versions=[])).push({version:"3.40.0",mode:i?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.40.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:(e,t,r)=>{var i=r(7629);e.exports=function(e,t){return i[e]||(i[e]=t||{})}},8183:(e,t,r)=>{var i=r(9504),n=r(1291),s=r(655),a=r(7750),o=i("".charAt),c=i("".charCodeAt),p=i("".slice),l=function(e){return function(t,r){var i,l,u=s(a(t)),h=n(r),d=u.length;return h<0||h>=d?e?"":void 0:(i=c(u,h))<55296||i>56319||h+1===d||(l=c(u,h+1))<56320||l>57343?e?o(u,h):i:e?p(u,h,h+2):l-56320+(i-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},706:(e,t,r)=>{var i=r(350).PROPER,n=r(9039),s=r(7452);e.exports=function(e){return n((function(){return!!s[e]()||""!==""[e]()||i&&s[e].name!==e}))}},3802:(e,t,r)=>{var i=r(9504),n=r(7750),s=r(655),a=r(7452),o=i("".replace),c=RegExp("^["+a+"]+"),p=RegExp("(^|[^"+a+"])["+a+"]+$"),l=function(e){return function(t){var r=s(n(t));return 1&e&&(r=o(r,c,"")),2&e&&(r=o(r,p,"$1")),r}};e.exports={start:l(1),end:l(2),trim:l(3)}},4495:(e,t,r)=>{var i=r(9519),n=r(9039),s=r(4576).String;e.exports=!!Object.getOwnPropertySymbols&&!n((function(){var e=Symbol("symbol detection");return!s(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},5610:(e,t,r)=>{var i=r(1291),n=Math.max,s=Math.min;e.exports=function(e,t){var r=i(e);return r<0?n(r+t,0):s(r,t)}},5397:(e,t,r)=>{var i=r(7055),n=r(7750);e.exports=function(e){return i(n(e))}},1291:(e,t,r)=>{var i=r(741);e.exports=function(e){var t=+e;return t!=t||0===t?0:i(t)}},8014:(e,t,r)=>{var i=r(1291),n=Math.min;e.exports=function(e){var t=i(e);return t>0?n(t,9007199254740991):0}},8981:(e,t,r)=>{var i=r(7750),n=Object;e.exports=function(e){return n(i(e))}},2777:(e,t,r)=>{var i=r(9565),n=r(34),s=r(757),a=r(5966),o=r(4270),c=r(8227),p=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!n(e)||s(e))return e;var r,c=a(e,l);if(c){if(void 0===t&&(t="default"),r=i(c,e,t),!n(r)||s(r))return r;throw new p("Can't convert object to primitive value")}return void 0===t&&(t="number"),o(e,t)}},6969:(e,t,r)=>{var i=r(2777),n=r(757);e.exports=function(e){var t=i(e,"string");return n(t)?t:t+""}},2140:(e,t,r)=>{var i={};i[r(8227)("toStringTag")]="z",e.exports="[object z]"===String(i)},655:(e,t,r)=>{var i=r(6955),n=String;e.exports=function(e){if("Symbol"===i(e))throw new TypeError("Cannot convert a Symbol value to a string");return n(e)}},6823:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},3392:(e,t,r)=>{var i=r(9504),n=0,s=Math.random(),a=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++n+s,36)}},7040:(e,t,r)=>{var i=r(4495);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:(e,t,r)=>{var i=r(3724),n=r(9039);e.exports=i&&n((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8622:(e,t,r)=>{var i=r(4576),n=r(4901),s=i.WeakMap;e.exports=n(s)&&/native code/.test(String(s))},8227:(e,t,r)=>{var i=r(4576),n=r(5745),s=r(9297),a=r(3392),o=r(4495),c=r(7040),p=i.Symbol,l=n("wks"),u=c?p.for||p:p&&p.withoutSetter||a;e.exports=function(e){return s(l,e)||(l[e]=o&&s(p,e)?p[e]:u("Symbol."+e)),l[e]}},7452:e=>{e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},3792:(e,t,r)=>{var i=r(5397),n=r(6469),s=r(6269),a=r(1181),o=r(4913).f,c=r(1088),p=r(2529),l=r(6395),u=r(3724),h="Array Iterator",d=a.set,f=a.getterFor(h);e.exports=c(Array,"Array",(function(e,t){d(this,{type:h,target:i(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=null,p(void 0,!0);switch(e.kind){case"keys":return p(r,!1);case"values":return p(t[r],!1)}return p([r,t[r]],!1)}),"values");var _=s.Arguments=s.Array;if(n("keys"),n("values"),n("entries"),!l&&u&&"values"!==_.name)try{o(_,"name",{value:"values"})}catch(e){}},6910:(e,t,r)=>{var i=r(6518),n=r(9504),s=r(9306),a=r(8981),o=r(6198),c=r(4606),p=r(655),l=r(9039),u=r(4488),h=r(4598),d=r(3709),f=r(3763),_=r(9519),m=r(3607),g=[],v=n(g.sort),y=n(g.push),x=l((function(){g.sort(void 0)})),b=l((function(){g.sort(null)})),E=h("sort"),w=!l((function(){if(_)return _<70;if(!(d&&d>3)){if(f)return!0;if(m)return m<603;var e,t,r,i,n="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(i=0;i<47;i++)g.push({k:t+i,v:r})}for(g.sort((function(e,t){return t.v-e.v})),i=0;i<g.length;i++)t=g[i].k.charAt(0),n.charAt(n.length-1)!==t&&(n+=t);return"DGBEFHACIJK"!==n}}));i({target:"Array",proto:!0,forced:x||!b||!E||!w},{sort:function(e){void 0!==e&&s(e);var t=a(this);if(w)return void 0===e?v(t):v(t,e);var r,i,n=[],l=o(t);for(i=0;i<l;i++)i in t&&y(n,t[i]);for(u(n,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:p(t)>p(r)?1:-1}}(e)),r=o(n),i=0;i<r;)t[i]=n[i++];for(;i<l;)c(t,i++);return t}})},5081:(e,t,r)=>{var i=r(6518),n=r(4576);i({global:!0,forced:n.globalThis!==n},{globalThis:n})},4864:(e,t,r)=>{var i=r(3724),n=r(4576),s=r(9504),a=r(2796),o=r(3167),c=r(6699),p=r(2360),l=r(8480).f,u=r(1625),h=r(788),d=r(655),f=r(1034),_=r(8429),m=r(1056),g=r(6840),v=r(9039),y=r(9297),x=r(1181).enforce,b=r(7633),E=r(8227),w=r(3635),k=r(8814),S=E("match"),A=n.RegExp,C=A.prototype,T=n.SyntaxError,P=s(C.exec),N=s("".charAt),O=s("".replace),L=s("".indexOf),I=s("".slice),R=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,j=/a/g,D=/a/g,M=new A(j)!==j,V=_.MISSED_STICKY,B=_.UNSUPPORTED_Y,F=i&&(!M||V||w||k||v((function(){return D[S]=!1,A(j)!==j||A(D)===D||"/a/i"!==String(A(j,"i"))})));if(a("RegExp",F)){for(var U=function(e,t){var r,i,n,s,a,l,_=u(C,this),m=h(e),g=void 0===t,v=[],b=e;if(!_&&m&&g&&e.constructor===U)return e;if((m||u(C,e))&&(e=e.source,g&&(t=f(b))),e=void 0===e?"":d(e),t=void 0===t?"":d(t),b=e,w&&"dotAll"in j&&(i=!!t&&L(t,"s")>-1)&&(t=O(t,/s/g,"")),r=t,V&&"sticky"in j&&(n=!!t&&L(t,"y")>-1)&&B&&(t=O(t,/y/g,"")),k&&(s=function(e){for(var t,r=e.length,i=0,n="",s=[],a=p(null),o=!1,c=!1,l=0,u="";i<=r;i++){if("\\"===(t=N(e,i)))t+=N(e,++i);else if("]"===t)o=!1;else if(!o)switch(!0){case"["===t:o=!0;break;case"("===t:if(n+=t,"?:"===I(e,i+1,i+3))continue;P(R,I(e,i+1))&&(i+=2,c=!0),l++;continue;case">"===t&&c:if(""===u||y(a,u))throw new T("Invalid capture group name");a[u]=!0,s[s.length]=[u,l],c=!1,u="";continue}c?u+=t:n+=t}return[n,s]}(e),e=s[0],v=s[1]),a=o(A(e,t),_?this:C,U),(i||n||v.length)&&(l=x(a),i&&(l.dotAll=!0,l.raw=U(function(e){for(var t,r=e.length,i=0,n="",s=!1;i<=r;i++)"\\"!==(t=N(e,i))?s||"."!==t?("["===t?s=!0:"]"===t&&(s=!1),n+=t):n+="[\\s\\S]":n+=t+N(e,++i);return n}(e),r)),n&&(l.sticky=!0),v.length&&(l.groups=v)),e!==b)try{c(a,"source",""===b?"(?:)":b)}catch(e){}return a},W=l(A),q=0;W.length>q;)m(U,A,W[q++]);C.constructor=U,U.prototype=C,g(n,"RegExp",U,{constructor:!0})}b("RegExp")},7495:(e,t,r)=>{var i=r(6518),n=r(7323);i({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},9479:(e,t,r)=>{var i=r(4576),n=r(3724),s=r(2106),a=r(7979),o=r(9039),c=i.RegExp,p=c.prototype;n&&o((function(){var e=!0;try{c(".","d")}catch(t){e=!1}var t={},r="",i=e?"dgimsy":"gimsy",n=function(e,i){Object.defineProperty(t,e,{get:function(){return r+=i,!0}})},s={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in e&&(s.hasIndices="d"),s)n(a,s[a]);return Object.getOwnPropertyDescriptor(p,"flags").get.call(t)!==i||r!==i}))&&s(p,"flags",{configurable:!0,get:a})},9978:(e,t,r)=>{var i=r(6518),n=r(9565),s=r(9504),a=r(7750),o=r(4901),c=r(4117),p=r(788),l=r(655),u=r(5966),h=r(1034),d=r(2478),f=r(8227),_=r(6395),m=f("replace"),g=TypeError,v=s("".indexOf),y=s("".replace),x=s("".slice),b=Math.max;i({target:"String",proto:!0},{replaceAll:function(e,t){var r,i,s,f,E,w,k,S,A,C,T=a(this),P=0,N="";if(!c(e)){if((r=p(e))&&(i=l(a(h(e))),!~v(i,"g")))throw new g("`.replaceAll` does not allow non-global regexes");if(s=u(e,m))return n(s,e,T,t);if(_&&r)return y(l(T),e,t)}for(f=l(T),E=l(e),(w=o(t))||(t=l(t)),k=E.length,S=b(1,k),A=v(f,E);-1!==A;)C=w?l(t(E,A,f)):d(E,f,A,[],void 0,t),N+=x(f,P,A)+C,P=A+k,A=A+S>f.length?-1:v(f,E,A+S);return P<f.length&&(N+=x(f,P)),N}})},5440:(e,t,r)=>{var i=r(8745),n=r(9565),s=r(9504),a=r(9228),o=r(9039),c=r(8551),p=r(4901),l=r(4117),u=r(1291),h=r(8014),d=r(655),f=r(7750),_=r(7829),m=r(5966),g=r(2478),v=r(6682),y=r(8227)("replace"),x=Math.max,b=Math.min,E=s([].concat),w=s([].push),k=s("".indexOf),S=s("".slice),A="$0"==="a".replace(/./,"$0"),C=!!/./[y]&&""===/./[y]("a","$0");a("replace",(function(e,t,r){var s=C?"$":"$0";return[function(e,r){var i=f(this),s=l(e)?void 0:m(e,y);return s?n(s,e,i,r):n(t,d(i),e,r)},function(e,n){var a=c(this),o=d(e);if("string"==typeof n&&-1===k(n,s)&&-1===k(n,"$<")){var l=r(t,a,o,n);if(l.done)return l.value}var f=p(n);f||(n=d(n));var m,y=a.global;y&&(m=a.unicode,a.lastIndex=0);for(var A,C=[];null!==(A=v(a,o))&&(w(C,A),y);){""===d(A[0])&&(a.lastIndex=_(o,h(a.lastIndex),m))}for(var T,P="",N=0,O=0;O<C.length;O++){for(var L,I=d((A=C[O])[0]),R=x(b(u(A.index),o.length),0),j=[],D=1;D<A.length;D++)w(j,void 0===(T=A[D])?T:String(T));var M=A.groups;if(f){var V=E([I],j,R,o);void 0!==M&&w(V,M),L=d(i(n,void 0,V))}else L=g(I,o,R,j,M,n);R>=N&&(P+=S(o,N,R)+L,N=R+I.length)}return P+S(o,N)}]}),!!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!A||C)},2762:(e,t,r)=>{var i=r(6518),n=r(3802).trim;i({target:"String",proto:!0,forced:r(706)("trim")},{trim:function(){return n(this)}})},9463:(e,t,r)=>{var i=r(6518),n=r(3724),s=r(4576),a=r(9504),o=r(9297),c=r(4901),p=r(1625),l=r(655),u=r(2106),h=r(7740),d=s.Symbol,f=d&&d.prototype;if(n&&c(d)&&(!("description"in f)||void 0!==d().description)){var _={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=p(f,this)?new d(e):void 0===e?d():d(e);return""===e&&(_[t]=!0),t};h(m,d),m.prototype=f,f.constructor=m;var g="Symbol(description detection)"===String(d("description detection")),v=a(f.valueOf),y=a(f.toString),x=/^Symbol\((.*)\)[^)]+$/,b=a("".replace),E=a("".slice);u(f,"description",{configurable:!0,get:function(){var e=v(this);if(o(_,e))return"";var t=y(e),r=g?E(t,7,-1):b(t,x,"$1");return""===r?void 0:r}}),i({global:!0,constructor:!0,forced:!0},{Symbol:m})}},2480:(e,t,r)=>{r(5081)},2041:(e,t,r)=>{r(9978)},2953:(e,t,r)=>{var i=r(4576),n=r(7400),s=r(9296),a=r(3792),o=r(6699),c=r(687),p=r(8227)("iterator"),l=a.values,u=function(e,t){if(e){if(e[p]!==l)try{o(e,p,l)}catch(t){e[p]=l}if(c(e,t,!0),n[t])for(var r in a)if(e[r]!==a[r])try{o(e,r,a[r])}catch(t){e[r]=a[r]}}};for(var h in n)u(i[h]&&i[h].prototype,h);u(s,"DOMTokenList")},3270:(e,t,r)=>{r.r(t),r.d(t,{Node:()=>ie,Parser:()=>F,Position:()=>R,SourceLocation:()=>j,TokContext:()=>ae,Token:()=>Pe,TokenType:()=>m,defaultOptions:()=>M,getLineInfo:()=>D,isIdentifierChar:()=>_,isIdentifierStart:()=>f,isNewLine:()=>S,keywordTypes:()=>x,lineBreak:()=>w,lineBreakG:()=>k,nonASCIIwhitespace:()=>A,parse:()=>je,parseExpressionAt:()=>De,tokContexts:()=>oe,tokTypes:()=>E,tokenizer:()=>Me,version:()=>Re});var i={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},n="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",s={5:n,"5module":n+" export import",6:n+" const class extends export import super"},a=/^in(stanceof)?$/,o="---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",c="----------------------------------------------------------------------------------------------------------------------------------------------------",p=new RegExp("["+o+"]"),l=new RegExp("["+o+c+"]");o=c=null;var u=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,107,20,28,22,13,52,76,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8952,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42717,35,4148,12,221,3,5761,15,7472,3104,541,1507,4938],h=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,4759,9,787719,239];function d(e,t){for(var r=65536,i=0;i<t.length;i+=2){if((r+=t[i])>e)return!1;if((r+=t[i+1])>=e)return!0}}function f(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&p.test(String.fromCharCode(e)):!1!==t&&d(e,u)))}function _(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&l.test(String.fromCharCode(e)):!1!==t&&(d(e,u)||d(e,h)))))}var m=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};function g(e,t){return new m(e,{beforeExpr:!0,binop:t})}var v={beforeExpr:!0},y={startsExpr:!0},x={};function b(e,t){return void 0===t&&(t={}),t.keyword=e,x[e]=new m(e,t)}var E={num:new m("num",y),regexp:new m("regexp",y),string:new m("string",y),name:new m("name",y),eof:new m("eof"),bracketL:new m("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new m("]"),braceL:new m("{",{beforeExpr:!0,startsExpr:!0}),braceR:new m("}"),parenL:new m("(",{beforeExpr:!0,startsExpr:!0}),parenR:new m(")"),comma:new m(",",v),semi:new m(";",v),colon:new m(":",v),dot:new m("."),question:new m("?",v),questionDot:new m("?."),arrow:new m("=>",v),template:new m("template"),invalidTemplate:new m("invalidTemplate"),ellipsis:new m("...",v),backQuote:new m("`",y),dollarBraceL:new m("${",{beforeExpr:!0,startsExpr:!0}),eq:new m("=",{beforeExpr:!0,isAssign:!0}),assign:new m("_=",{beforeExpr:!0,isAssign:!0}),incDec:new m("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new m("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:g("||",1),logicalAND:g("&&",2),bitwiseOR:g("|",3),bitwiseXOR:g("^",4),bitwiseAND:g("&",5),equality:g("==/!=/===/!==",6),relational:g("</>/<=/>=",7),bitShift:g("<</>>/>>>",8),plusMin:new m("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:g("%",10),star:g("*",10),slash:g("/",10),starstar:new m("**",{beforeExpr:!0}),coalesce:g("??",1),_break:b("break"),_case:b("case",v),_catch:b("catch"),_continue:b("continue"),_debugger:b("debugger"),_default:b("default",v),_do:b("do",{isLoop:!0,beforeExpr:!0}),_else:b("else",v),_finally:b("finally"),_for:b("for",{isLoop:!0}),_function:b("function",y),_if:b("if"),_return:b("return",v),_switch:b("switch"),_throw:b("throw",v),_try:b("try"),_var:b("var"),_const:b("const"),_while:b("while",{isLoop:!0}),_with:b("with"),_new:b("new",{beforeExpr:!0,startsExpr:!0}),_this:b("this",y),_super:b("super",y),_class:b("class",y),_extends:b("extends",v),_export:b("export"),_import:b("import",y),_null:b("null",y),_true:b("true",y),_false:b("false",y),_in:b("in",{beforeExpr:!0,binop:7}),_instanceof:b("instanceof",{beforeExpr:!0,binop:7}),_typeof:b("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:b("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:b("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},w=/\r\n?|\n|\u2028|\u2029/,k=new RegExp(w.source,"g");function S(e,t){return 10===e||13===e||!t&&(8232===e||8233===e)}var A=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,C=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,T=Object.prototype,P=T.hasOwnProperty,N=T.toString;function O(e,t){return P.call(e,t)}var L=Array.isArray||function(e){return"[object Array]"===N.call(e)};function I(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}var R=function(e,t){this.line=e,this.column=t};R.prototype.offset=function(e){return new R(this.line,this.column+e)};var j=function(e,t,r){this.start=t,this.end=r,null!==e.sourceFile&&(this.source=e.sourceFile)};function D(e,t){for(var r=1,i=0;;){k.lastIndex=i;var n=k.exec(e);if(!(n&&n.index<t))return new R(r,t-i);++r,i=n.index+n[0].length}}var M={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function V(e){var t={};for(var r in M)t[r]=e&&O(e,r)?e[r]:M[r];if(t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),L(t.onToken)){var i=t.onToken;t.onToken=function(e){return i.push(e)}}return L(t.onComment)&&(t.onComment=function(e,t){return function(r,i,n,s,a,o){var c={type:r?"Block":"Line",value:i,start:n,end:s};e.locations&&(c.loc=new j(this,a,o)),e.ranges&&(c.range=[n,s]),t.push(c)}}(t,t.onComment)),t}function B(e,t){return 2|(e?4:0)|(t?8:0)}var F=function(e,t,r){this.options=e=V(e),this.sourceFile=e.sourceFile,this.keywords=I(s[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var n="";if(!0!==e.allowReserved){for(var a=e.ecmaVersion;!(n=i[a]);a--);"module"===e.sourceType&&(n+=" await")}this.reservedWords=I(n);var o=(n?n+" ":"")+i.strict;this.reservedWordsStrict=I(o),this.reservedWordsStrictBind=I(o+" "+i.strictBind),this.input=String(t),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf("\n",r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(w).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=E.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null},U={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};F.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},U.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},U.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0},U.inAsync.get=function(){return(4&this.currentVarScope().flags)>0},U.allowSuper.get=function(){return(64&this.currentThisScope().flags)>0},U.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},U.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},F.prototype.inNonArrowFunction=function(){return(2&this.currentThisScope().flags)>0},F.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var r=this,i=0;i<e.length;i++)r=e[i](r);return r},F.parse=function(e,t){return new this(t,e).parse()},F.parseExpressionAt=function(e,t,r){var i=new this(r,e,t);return i.nextToken(),i.parseExpression()},F.tokenizer=function(e,t){return new this(t,e)},Object.defineProperties(F.prototype,U);var W=F.prototype,q=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;function G(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}W.strictDirective=function(e){for(;;){C.lastIndex=e,e+=C.exec(this.input)[0].length;var t=q.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2])){C.lastIndex=e+t[0].length;var r=C.exec(this.input),i=r.index+r[0].length,n=this.input.charAt(i);return";"===n||"}"===n||w.test(r[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(n)||"!"===n&&"="===this.input.charAt(i+1))}e+=t[0].length,C.lastIndex=e,e+=C.exec(this.input)[0].length,";"===this.input[e]&&e++}},W.eat=function(e){return this.type===e&&(this.next(),!0)},W.isContextual=function(e){return this.type===E.name&&this.value===e&&!this.containsEsc},W.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},W.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},W.canInsertSemicolon=function(){return this.type===E.eof||this.type===E.braceR||w.test(this.input.slice(this.lastTokEnd,this.start))},W.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},W.semicolon=function(){this.eat(E.semi)||this.insertSemicolon()||this.unexpected()},W.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},W.expect=function(e){this.eat(e)||this.unexpected()},W.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")},W.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var r=t?e.parenthesizedAssign:e.parenthesizedBind;r>-1&&this.raiseRecoverable(r,"Parenthesized pattern")}},W.checkExpressionErrors=function(e,t){if(!e)return!1;var r=e.shorthandAssign,i=e.doubleProto;if(!t)return r>=0||i>=0;r>=0&&this.raise(r,"Shorthand property assignments are valid only in destructuring patterns"),i>=0&&this.raiseRecoverable(i,"Redefinition of __proto__ property")},W.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},W.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var K=F.prototype;K.parseTopLevel=function(e){var t={};for(e.body||(e.body=[]);this.type!==E.eof;){var r=this.parseStatement(null,!0,t);e.body.push(r)}if(this.inModule)for(var i=0,n=Object.keys(this.undefinedExports);i<n.length;i+=1){var s=n[i];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var X={kind:"loop"},H={kind:"switch"};K.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;C.lastIndex=this.pos;var t=C.exec(this.input),r=this.pos+t[0].length,i=this.input.charCodeAt(r);if(91===i)return!0;if(e)return!1;if(123===i)return!0;if(f(i,!0)){for(var n=r+1;_(this.input.charCodeAt(n),!0);)++n;var s=this.input.slice(r,n);if(!a.test(s))return!0}return!1},K.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;C.lastIndex=this.pos;var e=C.exec(this.input),t=this.pos+e[0].length;return!(w.test(this.input.slice(this.pos,t))||"function"!==this.input.slice(t,t+8)||t+8!==this.input.length&&_(this.input.charAt(t+8)))},K.parseStatement=function(e,t,r){var i,n=this.type,s=this.startNode();switch(this.isLet(e)&&(n=E._var,i="let"),n){case E._break:case E._continue:return this.parseBreakContinueStatement(s,n.keyword);case E._debugger:return this.parseDebuggerStatement(s);case E._do:return this.parseDoStatement(s);case E._for:return this.parseForStatement(s);case E._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!e);case E._class:return e&&this.unexpected(),this.parseClass(s,!0);case E._if:return this.parseIfStatement(s);case E._return:return this.parseReturnStatement(s);case E._switch:return this.parseSwitchStatement(s);case E._throw:return this.parseThrowStatement(s);case E._try:return this.parseTryStatement(s);case E._const:case E._var:return i=i||this.value,e&&"var"!==i&&this.unexpected(),this.parseVarStatement(s,i);case E._while:return this.parseWhileStatement(s);case E._with:return this.parseWithStatement(s);case E.braceL:return this.parseBlock(!0,s);case E.semi:return this.parseEmptyStatement(s);case E._export:case E._import:if(this.options.ecmaVersion>10&&n===E._import){C.lastIndex=this.pos;var a=C.exec(this.input),o=this.pos+a[0].length,c=this.input.charCodeAt(o);if(40===c||46===c)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),n===E._import?this.parseImport(s):this.parseExport(s,r);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!e);var p=this.value,l=this.parseExpression();return n===E.name&&"Identifier"===l.type&&this.eat(E.colon)?this.parseLabeledStatement(s,p,l,e):this.parseExpressionStatement(s,l)}},K.parseBreakContinueStatement=function(e,t){var r="break"===t;this.next(),this.eat(E.semi)||this.insertSemicolon()?e.label=null:this.type!==E.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var n=this.labels[i];if(null==e.label||n.name===e.label.name){if(null!=n.kind&&(r||"loop"===n.kind))break;if(e.label&&r)break}}return i===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,r?"BreakStatement":"ContinueStatement")},K.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},K.parseDoStatement=function(e){return this.next(),this.labels.push(X),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(E._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(E.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},K.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(X),this.enterScope(0),this.expect(E.parenL),this.type===E.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var r=this.isLet();if(this.type===E._var||this.type===E._const||r){var i=this.startNode(),n=r?"let":this.value;return this.next(),this.parseVar(i,!0,n),this.finishNode(i,"VariableDeclaration"),(this.type===E._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===i.declarations.length?(this.options.ecmaVersion>=9&&(this.type===E._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,i)):(t>-1&&this.unexpected(t),this.parseFor(e,i))}var s=new G,a=this.parseExpression(!0,s);return this.type===E._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===E._in?t>-1&&this.unexpected(t):e.await=t>-1),this.toAssignable(a,!1,s),this.checkLVal(a),this.parseForIn(e,a)):(this.checkExpressionErrors(s,!0),t>-1&&this.unexpected(t),this.parseFor(e,a))},K.parseFunctionStatement=function(e,t,r){return this.next(),this.parseFunction(e,$|(r?0:Y),!1,t)},K.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(E._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},K.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(E.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},K.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(E.braceL),this.labels.push(H),this.enterScope(0);for(var r=!1;this.type!==E.braceR;)if(this.type===E._case||this.type===E._default){var i=this.type===E._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),i?t.test=this.parseExpression():(r&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),r=!0,t.test=null),this.expect(E.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},K.parseThrowStatement=function(e){return this.next(),w.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var z=[];K.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===E._catch){var t=this.startNode();if(this.next(),this.eat(E.parenL)){t.param=this.parseBindingAtom();var r="Identifier"===t.param.type;this.enterScope(r?32:0),this.checkLVal(t.param,r?4:2),this.expect(E.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0);t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(E._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},K.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},K.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(X),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},K.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},K.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},K.parseLabeledStatement=function(e,t,r,i){for(var n=0,s=this.labels;n<s.length;n+=1){s[n].name===t&&this.raise(r.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===E._switch?"switch":null,o=this.labels.length-1;o>=0;o--){var c=this.labels[o];if(c.statementStart!==e.start)break;c.statementStart=this.start,c.kind=a}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(i?-1===i.indexOf("label")?i+"label":i:"label"),this.labels.pop(),e.label=r,this.finishNode(e,"LabeledStatement")},K.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},K.parseBlock=function(e,t,r){for(void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(E.braceL),e&&this.enterScope(0);this.type!==E.braceR;){var i=this.parseStatement(null);t.body.push(i)}return r&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")},K.parseFor=function(e,t){return e.init=t,this.expect(E.semi),e.test=this.type===E.semi?null:this.parseExpression(),this.expect(E.semi),e.update=this.type===E.parenR?null:this.parseExpression(),this.expect(E.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},K.parseForIn=function(e,t){var r=this.type===E._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!r||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)?this.raise(t.start,(r?"for-in":"for-of")+" loop variable declaration may not have an initializer"):"AssignmentPattern"===t.type&&this.raise(t.start,"Invalid left-hand side in for-loop"),e.left=t,e.right=r?this.parseExpression():this.parseMaybeAssign(),this.expect(E.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,r?"ForInStatement":"ForOfStatement")},K.parseVar=function(e,t,r){for(e.declarations=[],e.kind=r;;){var i=this.startNode();if(this.parseVarId(i,r),this.eat(E.eq)?i.init=this.parseMaybeAssign(t):"const"!==r||this.type===E._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===i.id.type||t&&(this.type===E._in||this.isContextual("of"))?i.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(E.comma))break}return e},K.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLVal(e.id,"var"===t?1:2,!1)};var $=1,Y=2;K.parseFunction=function(e,t,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!i)&&(this.type===E.star&&t&Y&&this.unexpected(),e.generator=this.eat(E.star)),this.options.ecmaVersion>=8&&(e.async=!!i),t&$&&(e.id=4&t&&this.type!==E.name?null:this.parseIdent(),!e.id||t&Y||this.checkLVal(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?1:2:3));var n=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(B(e.async,e.generator)),t&$||(e.id=this.type===E.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,r,!1),this.yieldPos=n,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(e,t&$?"FunctionDeclaration":"FunctionExpression")},K.parseFunctionParams=function(e){this.expect(E.parenL),e.params=this.parseBindingList(E.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},K.parseClass=function(e,t){this.next();var r=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var i=this.startNode(),n=!1;for(i.body=[],this.expect(E.braceL);this.type!==E.braceR;){var s=this.parseClassElement(null!==e.superClass);s&&(i.body.push(s),"MethodDefinition"===s.type&&"constructor"===s.kind&&(n&&this.raise(s.start,"Duplicate constructor in the same class"),n=!0))}return this.strict=r,this.next(),e.body=this.finishNode(i,"ClassBody"),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},K.parseClassElement=function(e){var t=this;if(this.eat(E.semi))return null;var r=this.startNode(),i=function(e,i){void 0===i&&(i=!1);var n=t.start,s=t.startLoc;return!!t.eatContextual(e)&&(!(t.type===E.parenL||i&&t.canInsertSemicolon())||(r.key&&t.unexpected(),r.computed=!1,r.key=t.startNodeAt(n,s),r.key.name=e,t.finishNode(r.key,"Identifier"),!1))};r.kind="method",r.static=i("static");var n=this.eat(E.star),s=!1;n||(this.options.ecmaVersion>=8&&i("async",!0)?(s=!0,n=this.options.ecmaVersion>=9&&this.eat(E.star)):i("get")?r.kind="get":i("set")&&(r.kind="set")),r.key||this.parsePropertyName(r);var a=r.key,o=!1;return r.computed||r.static||!("Identifier"===a.type&&"constructor"===a.name||"Literal"===a.type&&"constructor"===a.value)?r.static&&"Identifier"===a.type&&"prototype"===a.name&&this.raise(a.start,"Classes may not have a static property named prototype"):("method"!==r.kind&&this.raise(a.start,"Constructor can't have get/set modifier"),n&&this.raise(a.start,"Constructor can't be a generator"),s&&this.raise(a.start,"Constructor can't be an async method"),r.kind="constructor",o=e),this.parseClassMethod(r,n,s,o),"get"===r.kind&&0!==r.value.params.length&&this.raiseRecoverable(r.value.start,"getter should have no params"),"set"===r.kind&&1!==r.value.params.length&&this.raiseRecoverable(r.value.start,"setter should have exactly one param"),"set"===r.kind&&"RestElement"===r.value.params[0].type&&this.raiseRecoverable(r.value.params[0].start,"Setter cannot use rest params"),r},K.parseClassMethod=function(e,t,r,i){return e.value=this.parseMethod(t,r,i),this.finishNode(e,"MethodDefinition")},K.parseClassId=function(e,t){this.type===E.name?(e.id=this.parseIdent(),t&&this.checkLVal(e.id,2,!1)):(!0===t&&this.unexpected(),e.id=null)},K.parseClassSuper=function(e){e.superClass=this.eat(E._extends)?this.parseExprSubscripts():null},K.parseExport=function(e,t){if(this.next(),this.eat(E.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseIdent(!0),this.checkExport(t,e.exported.name,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==E.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(E._default)){var r;if(this.checkExport(t,"default",this.lastTokStart),this.type===E._function||(r=this.isAsyncFunction())){var i=this.startNode();this.next(),r&&this.next(),e.declaration=this.parseFunction(i,4|$,!1,r)}else if(this.type===E._class){var n=this.startNode();e.declaration=this.parseClass(n,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(null),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==E.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var s=0,a=e.specifiers;s<a.length;s+=1){var o=a[s];this.checkUnreserved(o.local),this.checkLocalExport(o.local)}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},K.checkExport=function(e,t,r){e&&(O(e,t)&&this.raiseRecoverable(r,"Duplicate export '"+t+"'"),e[t]=!0)},K.checkPatternExport=function(e,t){var r=t.type;if("Identifier"===r)this.checkExport(e,t.name,t.start);else if("ObjectPattern"===r)for(var i=0,n=t.properties;i<n.length;i+=1){var s=n[i];this.checkPatternExport(e,s)}else if("ArrayPattern"===r)for(var a=0,o=t.elements;a<o.length;a+=1){var c=o[a];c&&this.checkPatternExport(e,c)}else"Property"===r?this.checkPatternExport(e,t.value):"AssignmentPattern"===r?this.checkPatternExport(e,t.left):"RestElement"===r?this.checkPatternExport(e,t.argument):"ParenthesizedExpression"===r&&this.checkPatternExport(e,t.expression)},K.checkVariableExport=function(e,t){if(e)for(var r=0,i=t;r<i.length;r+=1){var n=i[r];this.checkPatternExport(e,n.id)}},K.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},K.parseExportSpecifiers=function(e){var t=[],r=!0;for(this.expect(E.braceL);!this.eat(E.braceR);){if(r)r=!1;else if(this.expect(E.comma),this.afterTrailingComma(E.braceR))break;var i=this.startNode();i.local=this.parseIdent(!0),i.exported=this.eatContextual("as")?this.parseIdent(!0):i.local,this.checkExport(e,i.exported.name,i.exported.start),t.push(this.finishNode(i,"ExportSpecifier"))}return t},K.parseImport=function(e){return this.next(),this.type===E.string?(e.specifiers=z,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===E.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},K.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===E.name){var r=this.startNode();if(r.local=this.parseIdent(),this.checkLVal(r.local,2),e.push(this.finishNode(r,"ImportDefaultSpecifier")),!this.eat(E.comma))return e}if(this.type===E.star){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLVal(i.local,2),e.push(this.finishNode(i,"ImportNamespaceSpecifier")),e}for(this.expect(E.braceL);!this.eat(E.braceR);){if(t)t=!1;else if(this.expect(E.comma),this.afterTrailingComma(E.braceR))break;var n=this.startNode();n.imported=this.parseIdent(!0),this.eatContextual("as")?n.local=this.parseIdent():(this.checkUnreserved(n.imported),n.local=n.imported),this.checkLVal(n.local,2),e.push(this.finishNode(n,"ImportSpecifier"))}return e},K.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},K.isDirectiveCandidate=function(e){return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var Q=F.prototype;Q.toAssignable=function(e,t,r){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",r&&this.checkPatternErrors(r,!0);for(var i=0,n=e.properties;i<n.length;i+=1){var s=n[i];this.toAssignable(s,t),"RestElement"!==s.type||"ArrayPattern"!==s.argument.type&&"ObjectPattern"!==s.argument.type||this.raise(s.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",r&&this.checkPatternErrors(r,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,r);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else r&&this.checkPatternErrors(r,!0);return e},Q.toAssignableList=function(e,t){for(var r=e.length,i=0;i<r;i++){var n=e[i];n&&this.toAssignable(n,t)}if(r){var s=e[r-1];6===this.options.ecmaVersion&&t&&s&&"RestElement"===s.type&&"Identifier"!==s.argument.type&&this.unexpected(s.argument.start)}return e},Q.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},Q.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==E.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},Q.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case E.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(E.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case E.braceL:return this.parseObj(!0)}return this.parseIdent()},Q.parseBindingList=function(e,t,r){for(var i=[],n=!0;!this.eat(e);)if(n?n=!1:this.expect(E.comma),t&&this.type===E.comma)i.push(null);else{if(r&&this.afterTrailingComma(e))break;if(this.type===E.ellipsis){var s=this.parseRestBinding();this.parseBindingListItem(s),i.push(s),this.type===E.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}var a=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(a),i.push(a)}return i},Q.parseBindingListItem=function(e){return e},Q.parseMaybeDefault=function(e,t,r){if(r=r||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(E.eq))return r;var i=this.startNodeAt(e,t);return i.left=r,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")},Q.checkLVal=function(e,t,r){switch(void 0===t&&(t=0),e.type){case"Identifier":2===t&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(t?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(O(r,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),r[e.name]=!0),0!==t&&5!==t&&this.declareName(e.name,t,e.start);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":t&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ObjectPattern":for(var i=0,n=e.properties;i<n.length;i+=1){var s=n[i];this.checkLVal(s,t,r)}break;case"Property":this.checkLVal(e.value,t,r);break;case"ArrayPattern":for(var a=0,o=e.elements;a<o.length;a+=1){var c=o[a];c&&this.checkLVal(c,t,r)}break;case"AssignmentPattern":this.checkLVal(e.left,t,r);break;case"RestElement":this.checkLVal(e.argument,t,r);break;case"ParenthesizedExpression":this.checkLVal(e.expression,t,r);break;default:this.raise(e.start,(t?"Binding":"Assigning to")+" rvalue")}};var J=F.prototype;J.checkPropClash=function(e,t,r){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===e.type||this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var i,n=e.key;switch(n.type){case"Identifier":i=n.name;break;case"Literal":i=String(n.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6)"__proto__"===i&&"init"===s&&(t.proto&&(r?r.doubleProto<0&&(r.doubleProto=n.start):this.raiseRecoverable(n.start,"Redefinition of __proto__ property")),t.proto=!0);else{var a=t[i="$"+i];if(a)("init"===s?this.strict&&a.init||a.get||a.set:a.init||a[s])&&this.raiseRecoverable(n.start,"Redefinition of property");else a=t[i]={init:!1,get:!1,set:!1};a[s]=!0}}},J.parseExpression=function(e,t){var r=this.start,i=this.startLoc,n=this.parseMaybeAssign(e,t);if(this.type===E.comma){var s=this.startNodeAt(r,i);for(s.expressions=[n];this.eat(E.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return n},J.parseMaybeAssign=function(e,t,r){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var i=!1,n=-1,s=-1;t?(n=t.parenthesizedAssign,s=t.trailingComma,t.parenthesizedAssign=t.trailingComma=-1):(t=new G,i=!0);var a=this.start,o=this.startLoc;this.type!==E.parenL&&this.type!==E.name||(this.potentialArrowAt=this.start);var c=this.parseMaybeConditional(e,t);if(r&&(c=r.call(this,c,a,o)),this.type.isAssign){var p=this.startNodeAt(a,o);return p.operator=this.value,p.left=this.type===E.eq?this.toAssignable(c,!1,t):c,i||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=p.left.start&&(t.shorthandAssign=-1),this.checkLVal(c),this.next(),p.right=this.parseMaybeAssign(e),this.finishNode(p,"AssignmentExpression")}return i&&this.checkExpressionErrors(t,!0),n>-1&&(t.parenthesizedAssign=n),s>-1&&(t.trailingComma=s),c},J.parseMaybeConditional=function(e,t){var r=this.start,i=this.startLoc,n=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return n;if(this.eat(E.question)){var s=this.startNodeAt(r,i);return s.test=n,s.consequent=this.parseMaybeAssign(),this.expect(E.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return n},J.parseExprOps=function(e,t){var r=this.start,i=this.startLoc,n=this.parseMaybeUnary(t,!1);return this.checkExpressionErrors(t)||n.start===r&&"ArrowFunctionExpression"===n.type?n:this.parseExprOp(n,r,i,-1,e)},J.parseExprOp=function(e,t,r,i,n){var s=this.type.binop;if(null!=s&&(!n||this.type!==E._in)&&s>i){var a=this.type===E.logicalOR||this.type===E.logicalAND,o=this.type===E.coalesce;o&&(s=E.logicalAND.binop);var c=this.value;this.next();var p=this.start,l=this.startLoc,u=this.parseExprOp(this.parseMaybeUnary(null,!1),p,l,s,n),h=this.buildBinary(t,r,e,u,c,a||o);return(a&&this.type===E.coalesce||o&&(this.type===E.logicalOR||this.type===E.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(h,t,r,i,n)}return e},J.buildBinary=function(e,t,r,i,n,s){var a=this.startNodeAt(e,t);return a.left=r,a.operator=n,a.right=i,this.finishNode(a,s?"LogicalExpression":"BinaryExpression")},J.parseMaybeUnary=function(e,t){var r,i=this.start,n=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))r=this.parseAwait(),t=!0;else if(this.type.prefix){var s=this.startNode(),a=this.type===E.incDec;s.operator=this.value,s.prefix=!0,this.next(),s.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),a?this.checkLVal(s.argument):this.strict&&"delete"===s.operator&&"Identifier"===s.argument.type?this.raiseRecoverable(s.start,"Deleting local variable in strict mode"):t=!0,r=this.finishNode(s,a?"UpdateExpression":"UnaryExpression")}else{if(r=this.parseExprSubscripts(e),this.checkExpressionErrors(e))return r;for(;this.type.postfix&&!this.canInsertSemicolon();){var o=this.startNodeAt(i,n);o.operator=this.value,o.prefix=!1,o.argument=r,this.checkLVal(r),this.next(),r=this.finishNode(o,"UpdateExpression")}}return!t&&this.eat(E.starstar)?this.buildBinary(i,n,r,this.parseMaybeUnary(null,!1),"**",!1):r},J.parseExprSubscripts=function(e){var t=this.start,r=this.startLoc,i=this.parseExprAtom(e);if("ArrowFunctionExpression"===i.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return i;var n=this.parseSubscripts(i,t,r);return e&&"MemberExpression"===n.type&&(e.parenthesizedAssign>=n.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=n.start&&(e.parenthesizedBind=-1)),n},J.parseSubscripts=function(e,t,r,i){for(var n=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start==5&&this.potentialArrowAt===e.start,s=!1;;){var a=this.parseSubscript(e,t,r,i,n,s);if(a.optional&&(s=!0),a===e||"ArrowFunctionExpression"===a.type){if(s){var o=this.startNodeAt(t,r);o.expression=a,a=this.finishNode(o,"ChainExpression")}return a}e=a}},J.parseSubscript=function(e,t,r,i,n,s){var a=this.options.ecmaVersion>=11,o=a&&this.eat(E.questionDot);i&&o&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var c=this.eat(E.bracketL);if(c||o&&this.type!==E.parenL&&this.type!==E.backQuote||this.eat(E.dot)){var p=this.startNodeAt(t,r);p.object=e,p.property=c?this.parseExpression():this.parseIdent("never"!==this.options.allowReserved),p.computed=!!c,c&&this.expect(E.bracketR),a&&(p.optional=o),e=this.finishNode(p,"MemberExpression")}else if(!i&&this.eat(E.parenL)){var l=new G,u=this.yieldPos,h=this.awaitPos,d=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var f=this.parseExprList(E.parenR,this.options.ecmaVersion>=8,!1,l);if(n&&!o&&!this.canInsertSemicolon()&&this.eat(E.arrow))return this.checkPatternErrors(l,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=u,this.awaitPos=h,this.awaitIdentPos=d,this.parseArrowExpression(this.startNodeAt(t,r),f,!0);this.checkExpressionErrors(l,!0),this.yieldPos=u||this.yieldPos,this.awaitPos=h||this.awaitPos,this.awaitIdentPos=d||this.awaitIdentPos;var _=this.startNodeAt(t,r);_.callee=e,_.arguments=f,a&&(_.optional=o),e=this.finishNode(_,"CallExpression")}else if(this.type===E.backQuote){(o||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var m=this.startNodeAt(t,r);m.tag=e,m.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(m,"TaggedTemplateExpression")}return e},J.parseExprAtom=function(e){this.type===E.slash&&this.readRegexp();var t,r=this.potentialArrowAt===this.start;switch(this.type){case E._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),t=this.startNode(),this.next(),this.type!==E.parenL||this.allowDirectSuper||this.raise(t.start,"super() call outside constructor of a subclass"),this.type!==E.dot&&this.type!==E.bracketL&&this.type!==E.parenL&&this.unexpected(),this.finishNode(t,"Super");case E._this:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case E.name:var i=this.start,n=this.startLoc,s=this.containsEsc,a=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!s&&"async"===a.name&&!this.canInsertSemicolon()&&this.eat(E._function))return this.parseFunction(this.startNodeAt(i,n),0,!1,!0);if(r&&!this.canInsertSemicolon()){if(this.eat(E.arrow))return this.parseArrowExpression(this.startNodeAt(i,n),[a],!1);if(this.options.ecmaVersion>=8&&"async"===a.name&&this.type===E.name&&!s)return a=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(E.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(i,n),[a],!0)}return a;case E.regexp:var o=this.value;return(t=this.parseLiteral(o.value)).regex={pattern:o.pattern,flags:o.flags},t;case E.num:case E.string:return this.parseLiteral(this.value);case E._null:case E._true:case E._false:return(t=this.startNode()).value=this.type===E._null?null:this.type===E._true,t.raw=this.type.keyword,this.next(),this.finishNode(t,"Literal");case E.parenL:var c=this.start,p=this.parseParenAndDistinguishExpression(r);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(p)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),p;case E.bracketL:return t=this.startNode(),this.next(),t.elements=this.parseExprList(E.bracketR,!0,!0,e),this.finishNode(t,"ArrayExpression");case E.braceL:return this.parseObj(!1,e);case E._function:return t=this.startNode(),this.next(),this.parseFunction(t,0);case E._class:return this.parseClass(this.startNode(),!1);case E._new:return this.parseNew();case E.backQuote:return this.parseTemplate();case E._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},J.parseExprImport=function(){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var t=this.parseIdent(!0);switch(this.type){case E.parenL:return this.parseDynamicImport(e);case E.dot:return e.meta=t,this.parseImportMeta(e);default:this.unexpected()}},J.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(E.parenR)){var t=this.start;this.eat(E.comma)&&this.eat(E.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},J.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),"meta"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),"module"!==this.options.sourceType&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")},J.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")},J.parseParenExpression=function(){this.expect(E.parenL);var e=this.parseExpression();return this.expect(E.parenR),e},J.parseParenAndDistinguishExpression=function(e){var t,r=this.start,i=this.startLoc,n=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var s,a=this.start,o=this.startLoc,c=[],p=!0,l=!1,u=new G,h=this.yieldPos,d=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==E.parenR;){if(p?p=!1:this.expect(E.comma),n&&this.afterTrailingComma(E.parenR,!0)){l=!0;break}if(this.type===E.ellipsis){s=this.start,c.push(this.parseParenItem(this.parseRestBinding())),this.type===E.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}c.push(this.parseMaybeAssign(!1,u,this.parseParenItem))}var f=this.start,_=this.startLoc;if(this.expect(E.parenR),e&&!this.canInsertSemicolon()&&this.eat(E.arrow))return this.checkPatternErrors(u,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=h,this.awaitPos=d,this.parseParenArrowList(r,i,c);c.length&&!l||this.unexpected(this.lastTokStart),s&&this.unexpected(s),this.checkExpressionErrors(u,!0),this.yieldPos=h||this.yieldPos,this.awaitPos=d||this.awaitPos,c.length>1?((t=this.startNodeAt(a,o)).expressions=c,this.finishNodeAt(t,"SequenceExpression",f,_)):t=c[0]}else t=this.parseParenExpression();if(this.options.preserveParens){var m=this.startNodeAt(r,i);return m.expression=t,this.finishNode(m,"ParenthesizedExpression")}return t},J.parseParenItem=function(e){return e},J.parseParenArrowList=function(e,t,r){return this.parseArrowExpression(this.startNodeAt(e,t),r)};var Z=[];J.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(E.dot)){e.meta=t;var r=this.containsEsc;return e.property=this.parseIdent(!0),"target"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),r&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.inNonArrowFunction()||this.raiseRecoverable(e.start,"'new.target' can only be used in functions"),this.finishNode(e,"MetaProperty")}var i=this.start,n=this.startLoc,s=this.type===E._import;return e.callee=this.parseSubscripts(this.parseExprAtom(),i,n,!0),s&&"ImportExpression"===e.callee.type&&this.raise(i,"Cannot use new with import()"),this.eat(E.parenL)?e.arguments=this.parseExprList(E.parenR,this.options.ecmaVersion>=8,!1):e.arguments=Z,this.finishNode(e,"NewExpression")},J.parseTemplateElement=function(e){var t=e.isTagged,r=this.startNode();return this.type===E.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),r.value={raw:this.value,cooked:null}):r.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),r.tail=this.type===E.backQuote,this.finishNode(r,"TemplateElement")},J.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var r=this.startNode();this.next(),r.expressions=[];var i=this.parseTemplateElement({isTagged:t});for(r.quasis=[i];!i.tail;)this.type===E.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(E.dollarBraceL),r.expressions.push(this.parseExpression()),this.expect(E.braceR),r.quasis.push(i=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(r,"TemplateLiteral")},J.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===E.name||this.type===E.num||this.type===E.string||this.type===E.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===E.star)&&!w.test(this.input.slice(this.lastTokEnd,this.start))},J.parseObj=function(e,t){var r=this.startNode(),i=!0,n={};for(r.properties=[],this.next();!this.eat(E.braceR);){if(i)i=!1;else if(this.expect(E.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(E.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,n,t),r.properties.push(s)}return this.finishNode(r,e?"ObjectPattern":"ObjectExpression")},J.parseProperty=function(e,t){var r,i,n,s,a=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(E.ellipsis))return e?(a.argument=this.parseIdent(!1),this.type===E.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(this.type===E.parenL&&t&&(t.parenthesizedAssign<0&&(t.parenthesizedAssign=this.start),t.parenthesizedBind<0&&(t.parenthesizedBind=this.start)),a.argument=this.parseMaybeAssign(!1,t),this.type===E.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(a,"SpreadElement"));this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(e||t)&&(n=this.start,s=this.startLoc),e||(r=this.eat(E.star)));var o=this.containsEsc;return this.parsePropertyName(a),!e&&!o&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(a)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(E.star),this.parsePropertyName(a,t)):i=!1,this.parsePropertyValue(a,e,r,i,n,s,t,o),this.finishNode(a,"Property")},J.parsePropertyValue=function(e,t,r,i,n,s,a,o){if((r||i)&&this.type===E.colon&&this.unexpected(),this.eat(E.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),e.kind="init";else if(this.options.ecmaVersion>=6&&this.type===E.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(r,i);else if(t||o||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===E.comma||this.type===E.braceR||this.type===E.eq)this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((r||i)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=n),e.kind="init",t?e.value=this.parseMaybeDefault(n,s,e.key):this.type===E.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),e.value=this.parseMaybeDefault(n,s,e.key)):e.value=e.key,e.shorthand=!0):this.unexpected();else{(r||i)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var c="get"===e.kind?0:1;if(e.value.params.length!==c){var p=e.value.start;"get"===e.kind?this.raiseRecoverable(p,"getter should have no params"):this.raiseRecoverable(p,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")}},J.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(E.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(E.bracketR),e.key;e.computed=!1}return e.key=this.type===E.num||this.type===E.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},J.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},J.parseMethod=function(e,t,r){var i=this.startNode(),n=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(i),this.options.ecmaVersion>=6&&(i.generator=e),this.options.ecmaVersion>=8&&(i.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|B(t,i.generator)|(r?128:0)),this.expect(E.parenL),i.params=this.parseBindingList(E.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(i,!1,!0),this.yieldPos=n,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(i,"FunctionExpression")},J.parseArrowExpression=function(e,t,r){var i=this.yieldPos,n=this.awaitPos,s=this.awaitIdentPos;return this.enterScope(16|B(r,!1)),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1),this.yieldPos=i,this.awaitPos=n,this.awaitIdentPos=s,this.finishNode(e,"ArrowFunctionExpression")},J.parseFunctionBody=function(e,t,r){var i=t&&this.type!==E.braceL,n=this.strict,s=!1;if(i)e.body=this.parseMaybeAssign(),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);n&&!a||(s=this.strictDirective(this.end))&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var o=this.labels;this.labels=[],s&&(this.strict=!0),this.checkParams(e,!n&&!s&&!t&&!r&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLVal(e.id,5),e.body=this.parseBlock(!1,void 0,s&&!n),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=o}this.exitScope()},J.isSimpleParamList=function(e){for(var t=0,r=e;t<r.length;t+=1){if("Identifier"!==r[t].type)return!1}return!0},J.checkParams=function(e,t){for(var r={},i=0,n=e.params;i<n.length;i+=1){var s=n[i];this.checkLVal(s,1,t?null:r)}},J.parseExprList=function(e,t,r,i){for(var n=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(E.comma),t&&this.afterTrailingComma(e))break;var a=void 0;r&&this.type===E.comma?a=null:this.type===E.ellipsis?(a=this.parseSpread(i),i&&this.type===E.comma&&i.trailingComma<0&&(i.trailingComma=this.start)):a=this.parseMaybeAssign(!1,i),n.push(a)}return n},J.checkUnreserved=function(e){var t=e.start,r=e.end,i=e.name;(this.inGenerator&&"yield"===i&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===i&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(i)&&this.raise(t,"Unexpected keyword '"+i+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(t,r).indexOf("\\"))||(this.strict?this.reservedWordsStrict:this.reservedWords).test(i)&&(this.inAsync||"await"!==i||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+i+"' is reserved"))},J.parseIdent=function(e,t){var r=this.startNode();return this.type===E.name?r.name=this.value:this.type.keyword?(r.name=this.type.keyword,"class"!==r.name&&"function"!==r.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(!!e),this.finishNode(r,"Identifier"),e||(this.checkUnreserved(r),"await"!==r.name||this.awaitIdentPos||(this.awaitIdentPos=r.start)),r},J.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===E.semi||this.canInsertSemicolon()||this.type!==E.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(E.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},J.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!1),this.finishNode(e,"AwaitExpression")};var ee=F.prototype;ee.raise=function(e,t){var r=D(this.input,e);t+=" ("+r.line+":"+r.column+")";var i=new SyntaxError(t);throw i.pos=e,i.loc=r,i.raisedAt=this.pos,i},ee.raiseRecoverable=ee.raise,ee.curPosition=function(){if(this.options.locations)return new R(this.curLine,this.pos-this.lineStart)};var te=F.prototype,re=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[]};te.enterScope=function(e){this.scopeStack.push(new re(e))},te.exitScope=function(){this.scopeStack.pop()},te.treatFunctionsAsVarInScope=function(e){return 2&e.flags||!this.inModule&&1&e.flags},te.declareName=function(e,t,r){var i=!1;if(2===t){var n=this.currentScope();i=n.lexical.indexOf(e)>-1||n.functions.indexOf(e)>-1||n.var.indexOf(e)>-1,n.lexical.push(e),this.inModule&&1&n.flags&&delete this.undefinedExports[e]}else if(4===t){this.currentScope().lexical.push(e)}else if(3===t){var s=this.currentScope();i=this.treatFunctionsAsVar?s.lexical.indexOf(e)>-1:s.lexical.indexOf(e)>-1||s.var.indexOf(e)>-1,s.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var o=this.scopeStack[a];if(o.lexical.indexOf(e)>-1&&!(32&o.flags&&o.lexical[0]===e)||!this.treatFunctionsAsVarInScope(o)&&o.functions.indexOf(e)>-1){i=!0;break}if(o.var.push(e),this.inModule&&1&o.flags&&delete this.undefinedExports[e],3&o.flags)break}i&&this.raiseRecoverable(r,"Identifier '"+e+"' has already been declared")},te.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&(this.undefinedExports[e.name]=e)},te.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},te.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(3&t.flags)return t}},te.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(3&t.flags&&!(16&t.flags))return t}};var ie=function(e,t,r){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new j(e,r)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},ne=F.prototype;function se(e,t,r,i){return e.type=t,e.end=r,this.options.locations&&(e.loc.end=i),this.options.ranges&&(e.range[1]=r),e}ne.startNode=function(){return new ie(this,this.start,this.startLoc)},ne.startNodeAt=function(e,t){return new ie(this,e,t)},ne.finishNode=function(e,t){return se.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},ne.finishNodeAt=function(e,t,r,i){return se.call(this,e,t,r,i)};var ae=function(e,t,r,i,n){this.token=e,this.isExpr=!!t,this.preserveSpace=!!r,this.override=i,this.generator=!!n},oe={b_stat:new ae("{",!1),b_expr:new ae("{",!0),b_tmpl:new ae("${",!1),p_stat:new ae("(",!1),p_expr:new ae("(",!0),q_tmpl:new ae("`",!0,!0,(function(e){return e.tryReadTemplateToken()})),f_stat:new ae("function",!1),f_expr:new ae("function",!0),f_expr_gen:new ae("function",!0,!1,null,!0),f_gen:new ae("function",!1,!1,null,!0)},ce=F.prototype;ce.initialContext=function(){return[oe.b_stat]},ce.braceIsBlock=function(e){var t=this.curContext();return t===oe.f_expr||t===oe.f_stat||(e!==E.colon||t!==oe.b_stat&&t!==oe.b_expr?e===E._return||e===E.name&&this.exprAllowed?w.test(this.input.slice(this.lastTokEnd,this.start)):e===E._else||e===E.semi||e===E.eof||e===E.parenR||e===E.arrow||(e===E.braceL?t===oe.b_stat:e!==E._var&&e!==E._const&&e!==E.name&&!this.exprAllowed):!t.isExpr)},ce.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},ce.updateContext=function(e){var t,r=this.type;r.keyword&&e===E.dot?this.exprAllowed=!1:(t=r.updateContext)?t.call(this,e):this.exprAllowed=r.beforeExpr},E.parenR.updateContext=E.braceR.updateContext=function(){if(1!==this.context.length){var e=this.context.pop();e===oe.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},E.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?oe.b_stat:oe.b_expr),this.exprAllowed=!0},E.dollarBraceL.updateContext=function(){this.context.push(oe.b_tmpl),this.exprAllowed=!0},E.parenL.updateContext=function(e){var t=e===E._if||e===E._for||e===E._with||e===E._while;this.context.push(t?oe.p_stat:oe.p_expr),this.exprAllowed=!0},E.incDec.updateContext=function(){},E._function.updateContext=E._class.updateContext=function(e){!e.beforeExpr||e===E.semi||e===E._else||e===E._return&&w.test(this.input.slice(this.lastTokEnd,this.start))||(e===E.colon||e===E.braceL)&&this.curContext()===oe.b_stat?this.context.push(oe.f_stat):this.context.push(oe.f_expr),this.exprAllowed=!1},E.backQuote.updateContext=function(){this.curContext()===oe.q_tmpl?this.context.pop():this.context.push(oe.q_tmpl),this.exprAllowed=!1},E.star.updateContext=function(e){if(e===E._function){var t=this.context.length-1;this.context[t]===oe.f_expr?this.context[t]=oe.f_expr_gen:this.context[t]=oe.f_gen}this.exprAllowed=!0},E.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==E.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var pe="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",le=pe+" Extended_Pictographic",ue={9:pe,10:le,11:le},he="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",de="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",fe=de+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",_e={9:de,10:fe,11:fe+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho"},me={};function ge(e){var t=me[e]={binary:I(ue[e]+" "+he),nonBinary:{General_Category:I(he),Script:I(_e[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}ge(9),ge(10),ge(11);var ve=F.prototype,ye=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":""),this.unicodeProperties=me[e.options.ecmaVersion>=11?11:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function xe(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function be(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function Ee(e){return e>=65&&e<=90||e>=97&&e<=122}function we(e){return Ee(e)||95===e}function ke(e){return we(e)||Se(e)}function Se(e){return e>=48&&e<=57}function Ae(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Ce(e){return e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:e-48}function Te(e){return e>=48&&e<=55}ye.prototype.reset=function(e,t,r){var i=-1!==r.indexOf("u");this.start=0|e,this.source=t+"",this.flags=r,this.switchU=i&&this.parser.options.ecmaVersion>=6,this.switchN=i&&this.parser.options.ecmaVersion>=9},ye.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},ye.prototype.at=function(e,t){void 0===t&&(t=!1);var r=this.source,i=r.length;if(e>=i)return-1;var n=r.charCodeAt(e);if(!t&&!this.switchU||n<=55295||n>=57344||e+1>=i)return n;var s=r.charCodeAt(e+1);return s>=56320&&s<=57343?(n<<10)+s-56613888:n},ye.prototype.nextIndex=function(e,t){void 0===t&&(t=!1);var r=this.source,i=r.length;if(e>=i)return i;var n,s=r.charCodeAt(e);return!t&&!this.switchU||s<=55295||s>=57344||e+1>=i||(n=r.charCodeAt(e+1))<56320||n>57343?e+1:e+2},ye.prototype.current=function(e){return void 0===e&&(e=!1),this.at(this.pos,e)},ye.prototype.lookahead=function(e){return void 0===e&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},ye.prototype.advance=function(e){void 0===e&&(e=!1),this.pos=this.nextIndex(this.pos,e)},ye.prototype.eat=function(e,t){return void 0===t&&(t=!1),this.current(t)===e&&(this.advance(t),!0)},ve.validateRegExpFlags=function(e){for(var t=e.validFlags,r=e.flags,i=0;i<r.length;i++){var n=r.charAt(i);-1===t.indexOf(n)&&this.raise(e.start,"Invalid regular expression flag"),r.indexOf(n,i+1)>-1&&this.raise(e.start,"Duplicate regular expression flag")}},ve.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},ve.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,r=e.backReferenceNames;t<r.length;t+=1){var i=r[t];-1===e.groupNames.indexOf(i)&&e.raise("Invalid named capture referenced")}},ve.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},ve.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},ve.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!!(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},ve.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var r=!1;if(this.options.ecmaVersion>=9&&(r=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!r,!0}return e.pos=t,!1},ve.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},ve.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},ve.regexp_eatBracedQuantifier=function(e,t){var r=e.pos;if(e.eat(123)){var i=0,n=-1;if(this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(n=e.lastIntValue),e.eat(125)))return-1!==n&&n<i&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=r}return!1},ve.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},ve.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},ve.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},ve.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},ve.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},ve.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},ve.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!be(t)&&(e.lastIntValue=t,e.advance(),!0)},ve.regexp_eatPatternCharacters=function(e){for(var t=e.pos,r=0;-1!==(r=e.current())&&!be(r);)e.advance();return e.pos!==t},ve.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||t>=40&&t<=43||46===t||63===t||91===t||94===t||124===t)&&(e.advance(),!0)},ve.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e))return-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),void e.groupNames.push(e.lastStringValue);e.raise("Invalid group")}},ve.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},ve.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=xe(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=xe(e.lastIntValue);return!0}return!1},ve.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,r=this.options.ecmaVersion>=11,i=e.current(r);return e.advance(r),92===i&&this.regexp_eatRegExpUnicodeEscapeSequence(e,r)&&(i=e.lastIntValue),function(e){return f(e,!0)||36===e||95===e}(i)?(e.lastIntValue=i,!0):(e.pos=t,!1)},ve.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,r=this.options.ecmaVersion>=11,i=e.current(r);return e.advance(r),92===i&&this.regexp_eatRegExpUnicodeEscapeSequence(e,r)&&(i=e.lastIntValue),function(e){return _(e,!0)||36===e||95===e||8204===e||8205===e}(i)?(e.lastIntValue=i,!0):(e.pos=t,!1)},ve.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},ve.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var r=e.lastIntValue;if(e.switchU)return r>e.maxBackReference&&(e.maxBackReference=r),!0;if(r<=e.numCapturingParens)return!0;e.pos=t}return!1},ve.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},ve.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},ve.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},ve.regexp_eatZero=function(e){return 48===e.current()&&!Se(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},ve.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},ve.regexp_eatControlLetter=function(e){var t=e.current();return!!Ee(t)&&(e.lastIntValue=t%32,e.advance(),!0)},ve.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){void 0===t&&(t=!1);var r,i=e.pos,n=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var s=e.lastIntValue;if(n&&s>=55296&&s<=56319){var a=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=1024*(s-55296)+(o-56320)+65536,!0}e.pos=a,e.lastIntValue=s}return!0}if(n&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&((r=e.lastIntValue)>=0&&r<=1114111))return!0;n&&e.raise("Invalid unicode escape"),e.pos=i}return!1},ve.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t)&&(e.lastIntValue=t,e.advance(),!0)},ve.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do{e.lastIntValue=10*e.lastIntValue+(t-48),e.advance()}while((t=e.current())>=48&&t<=57);return!0}return!1},ve.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(function(e){return 100===e||68===e||115===e||83===e||119===e||87===e}(t))return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&this.options.ecmaVersion>=9&&(80===t||112===t)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1},ve.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var r=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,r,i),!0}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var n=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,n),!0}return!1},ve.regexp_validateUnicodePropertyNameAndValue=function(e,t,r){O(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(r)||e.raise("Invalid property value")},ve.regexp_validateUnicodePropertyNameOrValue=function(e,t){e.unicodeProperties.binary.test(t)||e.raise("Invalid property name")},ve.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";we(t=e.current());)e.lastStringValue+=xe(t),e.advance();return""!==e.lastStringValue},ve.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";ke(t=e.current());)e.lastStringValue+=xe(t),e.advance();return""!==e.lastStringValue},ve.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},ve.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1},ve.regexp_classRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var r=e.lastIntValue;!e.switchU||-1!==t&&-1!==r||e.raise("Invalid character class"),-1!==t&&-1!==r&&t>r&&e.raise("Range out of order in character class")}}},ve.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var r=e.current();(99===r||Te(r))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var i=e.current();return 93!==i&&(e.lastIntValue=i,e.advance(),!0)},ve.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},ve.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!Se(t)&&95!==t)&&(e.lastIntValue=t%32,e.advance(),!0)},ve.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},ve.regexp_eatDecimalDigits=function(e){var t=e.pos,r=0;for(e.lastIntValue=0;Se(r=e.current());)e.lastIntValue=10*e.lastIntValue+(r-48),e.advance();return e.pos!==t},ve.regexp_eatHexDigits=function(e){var t=e.pos,r=0;for(e.lastIntValue=0;Ae(r=e.current());)e.lastIntValue=16*e.lastIntValue+Ce(r),e.advance();return e.pos!==t},ve.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var r=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=64*t+8*r+e.lastIntValue:e.lastIntValue=8*t+r}else e.lastIntValue=t;return!0}return!1},ve.regexp_eatOctalDigit=function(e){var t=e.current();return Te(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},ve.regexp_eatFixedHexDigits=function(e,t){var r=e.pos;e.lastIntValue=0;for(var i=0;i<t;++i){var n=e.current();if(!Ae(n))return e.pos=r,!1;e.lastIntValue=16*e.lastIntValue+Ce(n),e.advance()}return!0};var Pe=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new j(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},Ne=F.prototype;function Oe(e){return"function"!=typeof BigInt?null:BigInt(e.replace(/_/g,""))}function Le(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}Ne.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Pe(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Ne.getToken=function(){return this.next(),new Pe(this)},"undefined"!=typeof Symbol&&(Ne[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===E.eof,value:t}}}}),Ne.curContext=function(){return this.context[this.context.length-1]},Ne.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(E.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},Ne.readToken=function(e){return f(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},Ne.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);return e<=55295||e>=57344?e:(e<<10)+this.input.charCodeAt(this.pos+1)-56613888},Ne.skipBlockComment=function(){var e,t=this.options.onComment&&this.curPosition(),r=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(-1===i&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(k.lastIndex=r;(e=k.exec(this.input))&&e.index<this.pos;)++this.curLine,this.lineStart=e.index+e[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(r+2,i),r,this.pos,t,this.curPosition())},Ne.skipLineComment=function(e){for(var t=this.pos,r=this.options.onComment&&this.curPosition(),i=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!S(i);)i=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,r,this.curPosition())},Ne.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&A.test(String.fromCharCode(e))))break e;++this.pos}}},Ne.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var r=this.type;this.type=e,this.value=t,this.updateContext(r)},Ne.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(E.ellipsis)):(++this.pos,this.finishToken(E.dot))},Ne.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(E.assign,2):this.finishOp(E.slash,1)},Ne.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),r=1,i=42===e?E.star:E.modulo;return this.options.ecmaVersion>=7&&42===e&&42===t&&(++r,i=E.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(E.assign,r+1):this.finishOp(i,r)},Ne.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12)if(61===this.input.charCodeAt(this.pos+2))return this.finishOp(E.assign,3);return this.finishOp(124===e?E.logicalOR:E.logicalAND,2)}return 61===t?this.finishOp(E.assign,2):this.finishOp(124===e?E.bitwiseOR:E.bitwiseAND,1)},Ne.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(E.assign,2):this.finishOp(E.bitwiseXOR,1)},Ne.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!w.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(E.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(E.assign,2):this.finishOp(E.plusMin,1)},Ne.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),r=1;return t===e?(r=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+r)?this.finishOp(E.assign,r+1):this.finishOp(E.bitShift,r)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(r=2),this.finishOp(E.relational,r)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},Ne.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(E.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(E.arrow)):this.finishOp(61===e?E.eq:E.prefix,1)},Ne.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(46===t){var r=this.input.charCodeAt(this.pos+2);if(r<48||r>57)return this.finishOp(E.questionDot,2)}if(63===t){if(e>=12)if(61===this.input.charCodeAt(this.pos+2))return this.finishOp(E.assign,3);return this.finishOp(E.coalesce,2)}}return this.finishOp(E.question,1)},Ne.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(E.parenL);case 41:return++this.pos,this.finishToken(E.parenR);case 59:return++this.pos,this.finishToken(E.semi);case 44:return++this.pos,this.finishToken(E.comma);case 91:return++this.pos,this.finishToken(E.bracketL);case 93:return++this.pos,this.finishToken(E.bracketR);case 123:return++this.pos,this.finishToken(E.braceL);case 125:return++this.pos,this.finishToken(E.braceR);case 58:return++this.pos,this.finishToken(E.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(E.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(E.prefix,1)}this.raise(this.pos,"Unexpected character '"+Le(e)+"'")},Ne.finishOp=function(e,t){var r=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,r)},Ne.readRegexp=function(){for(var e,t,r=this.pos;;){this.pos>=this.input.length&&this.raise(r,"Unterminated regular expression");var i=this.input.charAt(this.pos);if(w.test(i)&&this.raise(r,"Unterminated regular expression"),e)e=!1;else{if("["===i)t=!0;else if("]"===i&&t)t=!1;else if("/"===i&&!t)break;e="\\"===i}++this.pos}var n=this.input.slice(r,this.pos);++this.pos;var s=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(s);var o=this.regexpState||(this.regexpState=new ye(this));o.reset(r,n,a),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var c=null;try{c=new RegExp(n,a)}catch(e){}return this.finishToken(E.regexp,{pattern:n,flags:a,value:c})},Ne.readInt=function(e,t,r){for(var i=this.options.ecmaVersion>=12&&void 0===t,n=r&&48===this.input.charCodeAt(this.pos),s=this.pos,a=0,o=0,c=0,p=null==t?1/0:t;c<p;++c,++this.pos){var l=this.input.charCodeAt(this.pos),u=void 0;if(i&&95===l)n&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===o&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===c&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),o=l;else{if((u=l>=97?l-97+10:l>=65?l-65+10:l>=48&&l<=57?l-48:1/0)>=e)break;o=l,a=a*e+u}}return i&&95===o&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||null!=t&&this.pos-s!==t?null:a},Ne.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var r=this.readInt(e);return null==r&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(r=Oe(this.input.slice(t,this.pos)),++this.pos):f(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(E.num,r)},Ne.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10,void 0,!0)||this.raise(t,"Invalid number");var r=this.pos-t>=2&&48===this.input.charCodeAt(t);r&&this.strict&&this.raise(t,"Invalid number");var i=this.input.charCodeAt(this.pos);if(!r&&!e&&this.options.ecmaVersion>=11&&110===i){var n=Oe(this.input.slice(t,this.pos));return++this.pos,f(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(E.num,n)}r&&/[89]/.test(this.input.slice(t,this.pos))&&(r=!1),46!==i||r||(++this.pos,this.readInt(10),i=this.input.charCodeAt(this.pos)),69!==i&&101!==i||r||(43!==(i=this.input.charCodeAt(++this.pos))&&45!==i||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),f(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s,a=(s=this.input.slice(t,this.pos),r?parseInt(s,8):parseFloat(s.replace(/_/g,"")));return this.finishToken(E.num,a)},Ne.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},Ne.readString=function(e){for(var t="",r=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var i=this.input.charCodeAt(this.pos);if(i===e)break;92===i?(t+=this.input.slice(r,this.pos),t+=this.readEscapedChar(!1),r=this.pos):(S(i,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(r,this.pos++),this.finishToken(E.string,t)};var Ie={};Ne.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==Ie)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},Ne.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Ie;this.raise(e,t)},Ne.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var r=this.input.charCodeAt(this.pos);if(96===r||36===r&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==E.template&&this.type!==E.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(E.template,e)):36===r?(this.pos+=2,this.finishToken(E.dollarBraceL)):(++this.pos,this.finishToken(E.backQuote));if(92===r)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(S(r)){switch(e+=this.input.slice(t,this.pos),++this.pos,r){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(r)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},Ne.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(E.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Ne.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Le(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(e){var r=this.pos-1;return this.invalidStringToken(r,"Invalid escape sequence in template string"),null}default:if(t>=48&&t<=55){var i=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],n=parseInt(i,8);return n>255&&(i=i.slice(0,-1),n=parseInt(i,8)),this.pos+=i.length-1,t=this.input.charCodeAt(this.pos),"0"===i&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-i.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(n)}return S(t)?"":String.fromCharCode(t)}},Ne.readHexChar=function(e){var t=this.pos,r=this.readInt(16,e);return null===r&&this.invalidStringToken(t,"Bad character escape sequence"),r},Ne.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,r=this.pos,i=this.options.ecmaVersion>=6;this.pos<this.input.length;){var n=this.fullCharCodeAtPos();if(_(n,i))this.pos+=n<=65535?1:2;else{if(92!==n)break;this.containsEsc=!0,e+=this.input.slice(r,this.pos);var s=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(t?f:_)(a,i)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=Le(a),r=this.pos}t=!1}return e+this.input.slice(r,this.pos)},Ne.readWord=function(){var e=this.readWord1(),t=E.name;return this.keywords.test(e)&&(t=x[e]),this.finishToken(t,e)};var Re="7.4.1";function je(e,t){return F.parse(e,t)}function De(e,t,r){return F.parseExpressionAt(e,t,r)}function Me(e,t){return F.tokenizer(e,t)}F.acorn={Parser:F,version:Re,defaultOptions:M,Position:R,SourceLocation:j,getLineInfo:D,Node:ie,TokenType:m,tokTypes:E,keywordTypes:x,TokContext:ae,tokContexts:oe,isIdentifierChar:_,isIdentifierStart:f,Token:Pe,isNewLine:S,lineBreak:w,lineBreakG:k,nonASCIIwhitespace:A}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{__webpack_require__.d(__webpack_exports__,{default:()=>He});__webpack_require__(9463),__webpack_require__(7495),__webpack_require__(5440),__webpack_require__(2953);const e=(e=>{var t={};return __webpack_require__.d(t,e),t})({characters:()=>__WEBPACK_EXTERNAL_MODULE__script_js_588e7203__.characters,chat:()=>__WEBPACK_EXTERNAL_MODULE__script_js_588e7203__.chat,chat_metadata:()=>__WEBPACK_EXTERNAL_MODULE__script_js_588e7203__.chat_metadata,eventSource:()=>__WEBPACK_EXTERNAL_MODULE__script_js_588e7203__.eventSource,event_types:()=>__WEBPACK_EXTERNAL_MODULE__script_js_588e7203__.event_types,messageFormatting:()=>__WEBPACK_EXTERNAL_MODULE__script_js_588e7203__.messageFormatting,saveChatConditional:()=>__WEBPACK_EXTERNAL_MODULE__script_js_588e7203__.saveChatConditional,saveSettingsDebounced:()=>__WEBPACK_EXTERNAL_MODULE__script_js_588e7203__.saveSettingsDebounced,substituteParams:()=>__WEBPACK_EXTERNAL_MODULE__script_js_588e7203__.substituteParams,this_chid:()=>__WEBPACK_EXTERNAL_MODULE__script_js_588e7203__.this_chid,updateMessageBlock:()=>__WEBPACK_EXTERNAL_MODULE__script_js_588e7203__.updateMessageBlock});__webpack_require__(4864),__webpack_require__(2480),__webpack_require__(2041);var t=__webpack_require__(5134),r=__webpack_require__.n(t),i=__webpack_require__(8961),n=__webpack_require__.n(i);const s=(e=>{var t={};return __webpack_require__.d(t,e),t})({executeSlashCommandsWithOptions:()=>__WEBPACK_EXTERNAL_MODULE__slash_commands_js_f5742a84__.executeSlashCommandsWithOptions});__webpack_require__(6910),__webpack_require__(2762);const a=(e=>{var t={};return __webpack_require__.d(t,e),t})({DEFAULT_DEPTH:()=>__WEBPACK_EXTERNAL_MODULE__world_info_js_83198f57__.DEFAULT_DEPTH,DEFAULT_WEIGHT:()=>__WEBPACK_EXTERNAL_MODULE__world_info_js_83198f57__.DEFAULT_WEIGHT,METADATA_KEY:()=>__WEBPACK_EXTERNAL_MODULE__world_info_js_83198f57__.METADATA_KEY,loadWorldInfo:()=>__WEBPACK_EXTERNAL_MODULE__world_info_js_83198f57__.loadWorldInfo,parseRegexFromString:()=>__WEBPACK_EXTERNAL_MODULE__world_info_js_83198f57__.parseRegexFromString,selected_world_info:()=>__WEBPACK_EXTERNAL_MODULE__world_info_js_83198f57__.selected_world_info,world_info:()=>__WEBPACK_EXTERNAL_MODULE__world_info_js_83198f57__.world_info,world_info_case_sensitive:()=>__WEBPACK_EXTERNAL_MODULE__world_info_js_83198f57__.world_info_case_sensitive,world_info_logic:()=>__WEBPACK_EXTERNAL_MODULE__world_info_js_83198f57__.world_info_logic,world_info_match_whole_words:()=>__WEBPACK_EXTERNAL_MODULE__world_info_js_83198f57__.world_info_match_whole_words,world_info_use_group_scoring:()=>__WEBPACK_EXTERNAL_MODULE__world_info_js_83198f57__.world_info_use_group_scoring});const o=(e=>{var t={};return __webpack_require__.d(t,e),t})({power_user:()=>__WEBPACK_EXTERNAL_MODULE__power_user_js_3c7cfb8b__.power_user});const c=(e=>{var t={};return __webpack_require__.d(t,e),t})({getCharaFilename:()=>__WEBPACK_EXTERNAL_MODULE__utils_js_d605cabe__.getCharaFilename});const p=(e=>{var t={};return __webpack_require__.d(t,e),t})({getGroupMembers:()=>__WEBPACK_EXTERNAL_MODULE__group_chats_js_678c16bd__.getGroupMembers}),l=["uid"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r,i,n={},s=Object.keys(e);for(i=0;i<s.length;i++)r=s[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}async function m(e){const t=await(0,a.loadWorldInfo)(e);return t?_.values(t.entries).map((t=>{let{uid:r}=t;return h(h({},f(t,l)),{},{uid:Number(r),world:e})})).sort(k):[]}async function g(e,t){for(const r of await m(e))if(r.comment===t||r.uid===t||r.comment.match(t))return r;return null}async function v(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n=await m(e);return n?y(n,t,r,i):[]}function y(t,r){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=new Set;r=_.castArray(r).join("\n\n");for(const c of t){var o;if(c.constant&&!i)continue;if(c.disable&&!n)continue;if(c.vectorized)continue;if(c.useProbability&&c.probability<_.random(1,100))continue;if(c.constant){s.add(c);continue}if(!c.key.map((t=>(0,e.substituteParams)(t))).find((e=>b(r,e,c))))continue;if(!(c.selective&&_.isArray(c.keysecondary)&&c.keysecondary.length>0)){s.add(c);continue}const t=null!==(o=c.selectiveLogic)&&void 0!==o?o:0;let p=!1,l=!0;for(const i of c.keysecondary){const n=(0,e.substituteParams)(i),o=n&&b(r,n.trim(),c);if(o&&(p=!0),o||(l=!1),t===a.world_info_logic.AND_ANY&&o){s.add(c);break}if(t===a.world_info_logic.NOT_ALL&&!o){s.add(c);break}}t!==a.world_info_logic.NOT_ANY||p?t===a.world_info_logic.AND_ALL&&l&&s.add(c):s.add(c)}if(0===s.size)return[];const c=_.groupBy(Array.from(s),(e=>e.group)),p=c[""]||[];if(p.length>0&&_.size(c)<=1)return p.sort(k);let l=[];for(const[e,t]of _.entries(c)){if(""===e)continue;if(1===t.length){l.push(t[0]);continue}if(t.filter((e=>e.groupOverride)).length>0){const e=t.map((e=>e.order)),r=_.min(e);if(r){l.push(t[Math.max(e.findIndex((e=>e<=r)),0)]);continue}}if(t.filter((e=>{var t;return null!==(t=e.useGroupScoring)&&void 0!==t?t:a.world_info_use_group_scoring})).length>0){const e=t.map((e=>E(r,e))),i=_.max(e);if(i){l.push(t[Math.max(e.findIndex((e=>e>=i)),0)]);continue}}if(t.filter((e=>!e.groupOverride&&!e.useGroupScoring)).length>0){const e=t.map((e=>{var t;return null!==(t=e.groupWeight)&&void 0!==t?t:a.DEFAULT_WEIGHT})),r=_.sum(e);let i=_.random(1,r);const n=e.findIndex((e=>(i-=e)<=0));n>=0&&l.push(t[n])}}return _.concat(p,l).sort(k)}function x(e,t){var r;return(null!==(r=t.caseSensitive)&&void 0!==r?r:a.world_info_case_sensitive)?e:e.toLowerCase()}function b(e,t,r){var i;const n=(0,a.parseRegexFromString)(t);if(n)return n.test(e);e=x(e,r);const s=x(t,r);if(!(null!==(i=r.matchWholeWords)&&void 0!==i?i:a.world_info_match_whole_words))return e.includes(s);if(s.split(/\s+/).length>1)return e.includes(s);if(new RegExp("(?:^|\\W)(".concat(_.escapeRegExp(s),")(?:$|\\W)")).test(e))return!0;return!1}function E(e,t){const r=e;let i=0,n=0,s=0,o=0;if(Array.isArray(t.key)){i=t.key.length;for(const e of t.key)b(r,e,t)&&s++}if(Array.isArray(t.keysecondary)){n=t.keysecondary.length;for(const e of t.keysecondary)b(r,e,t)&&o++}if(!i)return 0;if(n>0)switch(t.selectiveLogic){case a.world_info_logic.AND_ANY:return s+o;case a.world_info_logic.AND_ALL:return o===n?s+o:s}return s}async function w(){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=[];if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){var l;const t=null===(l=e.characters[e.this_chid])||void 0===l||null===(l=l.data)||void 0===l||null===(l=l.extensions)||void 0===l?void 0:l.world;if(t&&!a.selected_world_info.includes(t)){const e=await m(t);e.length>0&&(s=s.concat(e))}for(const e of(0,p.getGroupMembers)()){var u;const t=null==e||null===(u=e.data)||void 0===u||null===(u=u.extensions)||void 0===u?void 0:u.world;if(t&&!a.selected_world_info.includes(t)){const e=await m(t);e.length>0&&(s=s.concat(e))}}}if(t)for(const e of a.selected_world_info){const t=await m(e);t.length>0&&(s=s.concat(t))}if(r){const t=e.chat_metadata[a.METADATA_KEY],r=o.power_user.persona_description_lorebook;if(r&&r!==t&&!a.selected_world_info.includes(r)){const e=await m(r);e.length>0&&(s=s.concat(e))}}if(i){const t=(0,c.getCharaFilename)(e.this_chid);if(t){var h;const r=null===(h=a.world_info.charLore)||void 0===h?void 0:h.find((e=>e.name===t));if(r&&_.isArray(r.extraBooks)){var d;const t=null===(d=e.characters[e.this_chid])||void 0===d||null===(d=d.data)||void 0===d||null===(d=d.extensions)||void 0===d?void 0:d.world;for(const e of r.extraBooks)if(e!==t&&!a.selected_world_info.includes(e)){const t=await m(e);t.length>0&&(s=s.concat(t))}}}for(const t of(0,p.getGroupMembers)()){const r=e.characters.findIndex((e=>e.avatar===t.avatar)),i=(0,c.getCharaFilename)(r);if(i){var f;const e=null===(f=a.world_info.charLore)||void 0===f?void 0:f.find((e=>e.name===i));if(e&&_.isArray(e.extraBooks)){var g;const r=null==t||null===(g=t.data)||void 0===g||null===(g=g.extensions)||void 0===g?void 0:g.world;for(const t of e.extraBooks)if(t!==r&&!a.selected_world_info.includes(t)){const e=await m(t);e.length>0&&(s=s.concat(e))}}}}}if(n){const t=e.chat_metadata[a.METADATA_KEY];if(t&&!a.selected_world_info.includes(t)){const e=await m(t);e.length>0&&(s=s.concat(e))}}return s.sort(k)}function k(e,t){return e.position-t.position||e.order-t.order||(t.depth||a.DEFAULT_DEPTH)-(e.depth||a.DEFAULT_DEPTH)}__webpack_require__(9479);const S=(e=>{var t={};return __webpack_require__.d(t,e),t})({extension_settings:()=>__WEBPACK_EXTERNAL_MODULE__extensions_js_e625da88__.extension_settings,renderExtensionTemplateAsync:()=>__WEBPACK_EXTERNAL_MODULE__extensions_js_e625da88__.renderExtensionTemplateAsync}),A={"#pt_enabled":{name:"enabled",value:!0},"#pt_generate_enabled":{name:"generate_enabled",value:!0},"#pt_generate_loader_enabled":{name:"generate_loader_enabled",value:!0},"#pt_render_enabled":{name:"render_enabled",value:!0},"#pt_render_loader_enabled":{name:"render_loader_enabled",value:!0},"#pt_strict_enabled":{name:"strict_enabled",value:!1},"#pt_debug_enabled":{name:"debug_enabled",value:!1},"#pt_autosave_enabled":{name:"autosave_enabled",value:!0},"#pt_preload_worldinfo":{name:"preload_worldinfo_enabled",value:!0},"#pt_code_blocks":{name:"code_blocks_enabled",value:!1},"#pt_world_active":{name:"world_active_enabled",value:!0},"#pt_permanent_evaluation":{name:"permanent_evaluation_enabled",value:!1},"#pt_filter_chat_message":{name:"filter_message_enabled",value:!0}},C={};function T(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];S.extension_settings.EjsTemplate||(S.extension_settings.EjsTemplate={},t=!0);for(const[e,n]of Object.entries(A)){var r,i;if(t)S.extension_settings.EjsTemplate[n.name]=n.value,C[n.name]=n.value;else S.extension_settings.EjsTemplate[n.name]=null!==(r=$(e).prop("checked"))&&void 0!==r?r:n.value,C[n.name]=null!==(i=$(e).prop("checked"))&&void 0!==i?i:n.value}t&&(P(),(0,e.saveSettingsDebounced)())}function P(){for(const[a,o]of Object.entries(A)){var e,t,r,i,n,s;$(a).prop("checked",null!==(e=null!==(t=null===(r=S.extension_settings.EjsTemplate)||void 0===r?void 0:r[o.name])&&void 0!==t?t:C[o.name])&&void 0!==e?e:o.value),C[o.name]=null!==(i=null!==(n=null===(s=S.extension_settings.EjsTemplate)||void 0===s?void 0:s[o.name])&&void 0!==n?n:C[o.name])&&void 0!==i?i:o.value}}function N(){T()}function O(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.this_chid;if(t=t||e.this_chid,null==t)return null;const r=e.characters[t]||e.characters.find((e=>e.name===t||e.name.match(t)));return r||null}const L="<% if (name) { %><<%- name %>>\n<% if (system_prompt) { %>System: <%- system_prompt %>\n<% } %>name: <%- name %>\n<% if (personality) { %>personality: <%- personality %>\n<% } %><% if (description) { %>description: <%- description %>\n<% } %><% if (message_example) { %>example:\n<%- message_example %>\n<% } %><% if (depth_prompt) { %>System: <%- depth_prompt %>\n<% } %></<%- name %>><% } %>";function I(){var t,r;const i=O(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.this_chid);if(!i)return null;let n=i.mes_example.trim();return n&&n.startsWith("<START>")&&(n=n.slice(7).trim()),n=n.replace("<START>","```\n```"),n&&n.includes("```")&&(n+="\n```"),{name:i.name,description:i.description,personality:i.personality,scenario:i.scenario,first_message:i.first_mes,message_example:n,creator_notes:i.data.creator_notes,creatorcomment:i.creatorcomment,system_prompt:i.data.system_prompt,post_history_instructions:i.data.post_history_instructions,alternate_greetings:i.data.alternate_greetings,depth_prompt:null==i||null===(t=i.data)||void 0===t?void 0:t.depth_prompt,creator:null==i||null===(r=i.data)||void 0===r?void 0:r.creator}}let R={isDryRun:!1,isUpdated:!1,cache:{},traceId:0};function j(){var t;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:65535;return _.merge({},(null===(t=O())||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.extensions)||void 0===t?void 0:t.variables)||{},S.extension_settings.variables.global,e.chat_metadata.variables||{},...e.chat.slice(0,Math.max(r-1,0)).map((e=>{var t;return(null===(t=e.variables)||void 0===t?void 0:t[e.swipe_id||0])||{}})),{_trace_id:R.traceId++,_modify_id:0})}function D(t,r,i){var n,s,a;let o=-1;if(o=void 0!==(null==t?void 0:t.id)?t.id>-1?t.id:e.chat.length+t.id:void 0!==(null==t?void 0:t.role)?e.chat.findLastIndex((e=>e.is_system===("system"===t.role)||e.is_user===("user"===t.role)||!e.is_system&&!e.is_user&&"assistant"===t.role||"any"===t.role)):void 0===r?e.chat.findLastIndex((e=>!e.is_user&&!e.is_system)):r,o<0||o>=e.chat.length)return console.warn("No message found for filter: ".concat(t)),[void 0,void 0];let c=0;return c=void 0!==(null==t?void 0:t.swipe_id)?t.swipe_id:void 0!==i?i:(null===(n=e.chat[o])||void 0===n?void 0:n.swipe_id)||0,c<0&&(c=((null===(s=e.chat[o])||void 0===s||null===(s=s.swipes)||void 0===s?void 0:s.length)||0)+c),void 0===(null===(a=e.chat[o])||void 0===a||null===(a=a.swipes)||void 0===a?void 0:a[c])?(console.debug("No swipe found for filter: ".concat(t)),[o,c]):(C.debug_enabled&&console.debug("Found message ".concat(o," with swipe ").concat(c," for filter: ").concat(t)),[o,c])}function M(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{noCache:n}=i;(n||void 0===(null==this?void 0:this.runID))&&(R.cache=j(void 0!==(null==this?void 0:this.message_id)?this.message_id:65535),C.debug_enabled&&(console.debug("[Prompt Template] reload variables cache:"),console.debug(R.cache)));const{index:s,scope:a,flags:o,results:c,withMsg:p,merge:l,dryRun:u}=i;if(!u&&R.isDryRun)return;let h,d=r;if(null!=s){let n=JSON.parse(_.get(R.cache,t,"{}")),u=Number(s);if(u=Number.isNaN(u)?s:u,"nx"===o&&_.has(n,u))return;if("xx"===o&&!_.has(n,u))return;if("nxs"===o&&void 0!==V.call(this,t,i))return;if("xxs"===o&&void 0===V.call(this,t,i))return;switch(("old"===c||l)&&(h=_.get(n,u,void 0)),l&&(d=_.merge("old"===c?_.cloneDeep(h):h,r)),_.set(R.cache,t,JSON.stringify(_.set(n,u,d))),a||"message"){case"global":n=JSON.parse(_.get(S.extension_settings.variables.global,t,"{}")||"{}"),_.set(S.extension_settings.variables.global,t,JSON.stringify(_.set(n,u,d))),C.debug_enabled&&console.debug("Set global variable ".concat(t," to ").concat(d," (index ").concat(u,")")),R.isUpdated=!0;break;case"local":e.chat_metadata.variables||(e.chat_metadata.variables={}),n=JSON.parse(_.get(e.chat_metadata.variables,t,"{}")||"{}"),_.set(e.chat_metadata.variables,t,JSON.stringify(_.set(n,u,d))),C.debug_enabled&&console.debug("Set local variable ".concat(t," to ").concat(d," (index ").concat(u,")")),R.isUpdated=!0;break;case"message":const[r,i]=D(p,null==this?void 0:this.message_id,null==this?void 0:this.swipe_id);void 0!==r&&void 0!==i&&(e.chat[r].variables||(e.chat[r].variables={}),e.chat[r].variables[i]||(e.chat[r].variables[i]={}),n=JSON.parse(_.get(e.chat[r].variables[i],t,"{}")||"{}"),_.set(e.chat[r].variables[i],t,JSON.stringify(_.set(n,u,d))),C.debug_enabled&&console.debug("Set message #".concat(r,".").concat(i," variable ").concat(t," to ").concat(d," (index ").concat(u,")")),R.isUpdated=!0)}R.cache._modify_id=R.cache._modify_id+1||1}else{if("nx"===o&&_.has(R.cache,t))return;if("xx"===o&&!_.has(R.cache,t))return;if("nxs"===o&&void 0!==V.call(this,t,i))return;if("xxs"===o&&void 0===V.call(this,t,i))return;switch(("old"===c||l)&&(h=_.get(R.cache,t,void 0)),l&&(d=_.merge("old"===c?_.cloneDeep(h):h,r)),_.set(R.cache,t,d),a||"message"){case"global":_.set(S.extension_settings.variables.global,t,d),C.debug_enabled&&console.debug("Set global variable ".concat(t," to ").concat(d)),R.isUpdated=!0;break;case"local":e.chat_metadata.variables||(e.chat_metadata.variables={}),_.set(e.chat_metadata.variables,t,d),C.debug_enabled&&console.debug("Set local variable ".concat(t," to ").concat(d)),R.isUpdated=!0;break;case"message":const[r,i]=D(p,null==this?void 0:this.message_id,null==this?void 0:this.swipe_id);void 0!==r&&void 0!==i&&(e.chat[r].variables||(e.chat[r].variables={}),e.chat[r].variables[i]||(e.chat[r].variables[i]={}),_.set(e.chat[r].variables[i],t,d),C.debug_enabled&&console.debug("Set message #".concat(r,".").concat(i," variable ").concat(t," to ").concat(d)),R.isUpdated=!0)}R.cache._modify_id=R.cache._modify_id+1||1}return"old"===c?h:"new"===c?d:R.cache}function V(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{noCache:i}=r;(i||void 0===(null==this?void 0:this.runID))&&(R.cache=j(void 0!==(null==this?void 0:this.message_id)?this.message_id:65535),C.debug_enabled&&(console.debug("[Prompt Template] reload variables cache:"),console.debug(R.cache)));const{index:n,scope:s,defaults:a,withMsg:o}=r;switch(s||"cache"){case"global":if(null!=n){const e=JSON.parse(_.get(S.extension_settings.variables.global,t,"{}")||"{}"),r=Number(n);return _.get(e,Number.isNaN(r)?n:r,a)}return _.get(S.extension_settings.variables.global,t,a);case"local":if(!e.chat_metadata.variables)return a;if(null!=n){const r=JSON.parse(_.get(e.chat_metadata.variables,t,"{}")||"{}"),i=Number(n);return _.get(r,Number.isNaN(i)?n:i,a)}return _.get(e.chat_metadata.variables,t,a);case"message":const[r,i]=D(o,null==this?void 0:this.message_id,null==this?void 0:this.swipe_id);if(void 0!==r&&void 0!==i){if(!e.chat[r].variables)return a;if(!e.chat[r].variables[i])return a;if(null!=n){const s=JSON.parse(_.get(e.chat[r].variables[i],t,"{}")||"{}"),o=Number(n);return _.get(s,Number.isNaN(o)?n:o,a)}return _.get(e.chat[r].variables[i],t,a)}return a}if(null!=n){const e=JSON.parse(_.get(R.cache,t,"{}")||"{}"),r=Number(n);return _.get(e,r,a)}return _.get(R.cache,t,a)}function B(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{noCache:i}=r;(i||void 0===(null==this?void 0:this.runID))&&(R.cache=j(void 0!==(null==this?void 0:this.message_id)?this.message_id:65535),C.debug_enabled&&(console.debug("[Prompt Template] reload variables cache:"),console.debug(R.cache)));const{index:n,inscope:s,outscope:a,flags:o,defaults:c,results:p,withMsg:l,dryRun:u,min:h,max:d}=r;if("nx"===o&&!_.has(R.cache,e)||"xx"===o&&_.has(R.cache,e)||"nxs"===o&&void 0===V.call(this,e,{index:n,withMsg:l,scope:s})||"xxs"===o&&void 0!==V.call(this,e,{index:n,withMsg:l,scope:s})||"n"===o||void 0===o){let r=V.call(this,e,{index:n,withMsg:l,scope:s,defaults:c||0})+t;return null!=h&&(r=Math.max(r,h)),null!=d&&(r=Math.min(r,d)),M.call(this,e,r,{index:n,results:p,withMsg:l,dryRun:u,scope:a,flags:"n"})}}function F(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return void 0===(null==this?void 0:this.runID)&&console.warn("setVariable called with invalid context ".concat(this)),B.call(this,e,-t,r)}async function U(){(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||R.isUpdated&&!1!==C.autosave_enabled)&&await(0,e.saveChatConditional)(),R.isUpdated=!1}const W=(e=>{var t={};return __webpack_require__.d(t,e),t})({oai_settings:()=>__WEBPACK_EXTERNAL_MODULE__openai_js_bf183548__.oai_settings});function q(e){var t;const r=null===(t=S.extension_settings.quickReplyV2)||void 0===t?void 0:t.config;if(!r)return null;for(const t of r.setList)if(t.set.name===e||t.set.name.match(e))return t;return null}const G=(e=>{var t={};return __webpack_require__.d(t,e),t})({getRegexedString:()=>__WEBPACK_EXTERNAL_MODULE__regex_engine_js_683beba0__.getRegexedString,regex_placement:()=>__WEBPACK_EXTERNAL_MODULE__regex_engine_js_683beba0__.regex_placement});function K(t){const r=t.is_user?G.regex_placement.USER_INPUT:G.regex_placement.AI_OUTPUT;return(0,e.substituteParams)((0,G.getRegexedString)(t.mes,r,{characterOverride:t.name,isPrompt:!0}))}function X(t,r){const i=e.chat.filter((e=>!r||"user"===r&&e.is_user||"system"===r&&e.is_system||"assistant"===r&&!e.is_user&&!e.is_system));return K(i[t>-1?t:i.length+t]||"")}function H(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.chat.length,r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(null==r){if(t>0)return e.chat.slice(0,t).map(K);if(t<0)return e.chat.slice(t).map(K)}else if("string"==typeof r){if(t>0)return e.chat.filter((e=>"user"===r&&e.is_user||"system"===r&&e.is_system||"assistant"===r&&!e.is_user&&!e.is_system)).slice(0,t).map(K);if(t<0)return e.chat.filter((e=>"user"===r&&e.is_user||"system"===r&&e.is_system||"assistant"===r&&!e.is_user&&!e.is_system)).slice(t).map(K)}else if("number"==typeof r){if(t>0)return e.chat.filter((e=>!i||"user"===i&&e.is_user||"system"===i&&e.is_system||"assistant"===i&&!e.is_user&&!e.is_system)).slice(t,r).map(K);if(t<0)return e.chat.filter((e=>!i||"user"===i&&e.is_user||"system"===i&&e.is_system||"assistant"===i&&!e.is_user&&!e.is_system)).slice(t,r).map(K)}return[]}let z={faker:void 0};Promise.resolve().then(__webpack_require__.bind(__webpack_require__,4359)).then((e=>{z.faker=e,console.log("Faker loaded"),console.log(e)})).catch((e=>{console.log("cannot load faker"),console.error(e)}));var Y=__webpack_require__(5233),Q=__webpack_require__.n(Y);const J={generateRegex:new Set};function Z(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=r.uuid||"regex-"+Math.random().toString(36).substring(2,9);if(J.generateRegex.has(i)){const c=S.extension_settings.regex.find((e=>e.id===i));var n,s,a,o;if(c)c.findRegex=e instanceof RegExp?"/".concat(e.source,"/").concat(e.flags):e,c.replaceString=t,c.placement=_.compact([null===(n=r.user)||void 0===n||n?1:0,null===(s=r.assistant)||void 0===s||s?2:0,null===(a=r.worldinfo)||void 0===a||a?5:0,null===(o=r.reasoning)||void 0===o||o?6:0])}else{var c,p,l,u,h,d;S.extension_settings.regex.push({id:i,scriptName:"".concat(i),findRegex:e instanceof RegExp?e.source:e,replaceString:t,trimStrings:[],placement:_.compact([null===(c=r.user)||void 0===c||c?1:0,null===(p=r.assistant)||void 0===p||p?2:0,null!==(l=r.worldinfo)&&void 0!==l&&l?5:0,null===(u=r.reasoning)||void 0===u||u?6:0]),disabled:!1,markdownOnly:!1,promptOnly:!0,runOnEdit:!1,substituteRegex:0,minDepth:null!==(h=r.minDepth)&&void 0!==h?h:NaN,maxDepth:null!==(d=r.minDepth)&&void 0!==d?d:NaN})}J.generateRegex.add(i)}function ee(e){if(e){if(J.generateRegex.has(e)){const t=S.extension_settings.regex.findLastIndex((t=>t.id===e));t>-1&&S.extension_settings.regex.splice(t,1),J.generateRegex.delete(e)}}else S.extension_settings.regex=S.extension_settings.regex.filter((e=>!e.scriptName.startsWith(""))),J.generateRegex.clear()}function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ie(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ne(e,t){return console.warn("[Prompt Template] include not implemented"),{filename:e,template:""}}function se(e){return e}const ae={_,$,toastr},oe="\n    ejs.render(\n        content,\n        data,\n        {\n            async: true,\n            escape: escaper,\n            includer: includer,\n            cache: false,\n            context: data,\n            client: false,\n            outputFunctionName: 'print',\n            ...options,\n        },\n    );\n";function ce(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"escape-ejs";const i=t.openDelimiter||"<",n=t.closeDelimiter||">",s=t.delimiter||"%",a="<"===i&&">"===n?"":"#";return e.replaceAll(new RegExp("".concat(i).concat(a).concat(r).concat(n,"([\\s\\S]*?)").concat(i).concat(a,"/").concat(r).concat(n),"g"),(e=>e.replaceAll("".concat(i).concat(s),"".concat(i).concat(s).concat(s)).replaceAll("".concat(s).concat(n),"".concat(s).concat(s).concat(n))))}async function pe(e,t){var i;let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"!=typeof e)return console.error("[Prompt Template] content is not a string"),e;null!==(i=s.options)&&void 0!==i&&i.debug&&!s.options.destructuredLocals&&(s.options.destructuredLocals=Object.keys(t));let a="";e=ce(e,s.options||{},s.disableMarkup||"escape-ejs"),e=ce(e,s.options||{},"thinking"),e=ce(e,s.options||{},"think"),e=ce(e,s.options||{},"reasoning");try{a=await n().runInNewContext(oe,{ejs:r(),content:e,data:t,escaper:s.escaper||se,includer:s.includer||ne,options:s.options||{}})}catch(t){var o;if(null===(o=s.logging)||void 0===o||o){if(C.debug_enabled){const t=e.split("\n").map(((e,t)=>"".concat(t,": ").concat(e))).join("\n");console.debug("[Prompt Template] when ".concat(s.when," has errors:\n").concat(t))}t instanceof SyntaxError&&(t.message+=we(e)),console.error(t),toastr.error(t.message,"EJS Template Error")}throw t}return a}async function le(t,r){var i;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=await g(t||(null===(i=this.world_info)||void 0===i?void 0:i.world)||"",r);return s?await pe((0,e.substituteParams)(s.content),_.merge(this,n,{world_info:s}),{when:"".concat(s.world,".").concat(s.comment)}):(console.warn("[Prompt Template] worldinfo ".concat(t," or entry ").concat(r," not found")),"")}async function ue(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=I(t);return n?(0,e.substituteParams)(await pe(r,_.merge(this,i,n,{chara_name:n.name}),{when:"".concat(t)}),void 0,n.name,void 0,void 0,!1):(console.warn("[Prompt Template] character ".concat(t," not found")),"")}async function he(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=function(e){const t=W.oai_settings.prompts.find((t=>t.name===e||t.name.match(e)));return t&&(null==t?void 0:t.content)||null}(t);return i?(0,e.substituteParams)(await pe(i,_.merge(this,r,{prompt_name:t}),{when:"".concat(t)})):(console.warn("[Prompt Template] preset prompt ".concat(t," not found")),"")}let de={};function fe(e,t){_.set(de,e,t),_.set(this,e,t)}function _e(e,t){let r={};_.isArray(t)&&(r=[]);for(const[i,n]of _.entries(t))_.isFunction(n)?r[i]=n.bind(e):_.isArray(n)||_.isPlainObject(n)?r[i]=_e(e,n):r[i]=n;return r}async function me(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=function(e,t){var r;const i=null===(r=S.extension_settings.quickReplyV2)||void 0===r?void 0:r.config;if(!i)return"";const n=_.find(i.setList,(t=>t.set.name===e||t.set.name.match(e)));if(n){const e=_.find(n.set.qrList,(e=>e.label===t||e.label.match(t)));return(null==e?void 0:e.message)||""}return""}(t,r);return n?(0,e.substituteParams)(await pe(n,_.merge(this,i,{qr_name:t,qr_label:r}),{when:"".concat(t,".").concat(r)})):(console.warn("[Prompt Template] quick reply ".concat(t,".").concat(r," not found")),"")}async function ge(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,e.substituteParams)(await pe(t,_.merge(this,r),{when:"evalTemplate",options:i}))}let ve=new Map;async function ye(e,t){const r=await g(e,t);return r&&ve.set("".concat(e,".").concat(t),r),r}async function xe(){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=j(arguments.length>0&&void 0!==arguments[0]?arguments[0]:65535);R.cache=r;let i=re(re(re({},ae),{},{variables:r,execute:async e=>(await(0,s.executeSlashCommandsWithOptions)(e)).pipe,SillyTavern:SillyTavern.getContext(),faker:z.faker},t),{},{get vars(){return new WeakRef(R.cache)}});return _.merge(i,re(re({getwi:le.bind(i),getWorldInfo:le.bind(i),getchr:ue.bind(i),getChara:ue.bind(i),getprp:he.bind(i),getPresetPrompt:he.bind(i),define:fe.bind(i),setvar:M.bind(i),setLocalVar:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return M.call(i,e,t,re(re({},r),{},{scope:"local"}))},setGlobalVar:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return M.call(i,e,t,re(re({},r),{},{scope:"global"}))},setMessageVar:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return M.call(i,e,t,re(re({},r),{},{scope:"message"}))},getvar:V.bind(i),getLocalVar:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return V.call(i,e,re(re({},t),{},{scope:"local"}))},getGlobalVar:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return V.call(i,e,re(re({},t),{},{scope:"global"}))},getMessageVar:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return V.call(i,e,re(re({},t),{},{scope:"message"}))},incvar:B.bind(i),incLocalVar:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return B.call(i,e,t,re(re({},r),{},{outscope:"local"}))},incGlobalVar:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return B.call(i,e,t,re(re({},r),{},{outscope:"global"}))},incMessageVar:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return B.call(i,e,t,re(re({},r),{},{outscope:"message"}))},decvar:F.bind(i),decLocalVar:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return F.call(i,e,t,re(re({},r),{},{outscope:"local"}))},decGlobalVar:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return F.call(i,e,t,re(re({},r),{},{outscope:"global"}))},decMessageVar:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return F.call(i,e,t,re(re({},r),{},{outscope:"message"}))},getqr:me.bind(i),getQuickReply:me.bind(i),getCharaData:O.bind(i),getWorldInfoData:m.bind(i),getQuickReplyData:q.bind(i),getWorldInfoActivatedData:v.bind(i),evalTemplate:ge.bind(i),getEnabledWorldInfoEntries:w,selectActivatedEntries:y,activewi:ye,activateWorldInfo:ye,getChatMessage:X,getChatMessages:H,activateRegex:Z.bind(i)},_e(i,de)),{},{ref:new WeakRef(i)})),await e.eventSource.emit("prompt_template_prepare",i),C.debug_enabled&&(console.debug("[Prompt Template] context prepared:"),console.debug(i)),i}const be=/^\s*include\s+(\S+)/;function Ee(e){let t="";return e.split("\n").forEach(((e,r)=>{0!==r&&(t+="\n");for(let r=0;r<e.length;r++)t+=" "})),t}function we(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=new(r().Template)(e,t).parseTemplateText();let n;const s=t.delimiter||"%",a=i.map((e=>{switch(e){case"<".concat(s):case"<".concat(s,"_"):return n=1,Ee(e);case"<".concat(s,"="):case"<".concat(s,"-"):return n=2,";".concat(Ee(e));case"".concat(s,">"):case"-".concat(s,">"):case"_".concat(s,">"):return e=Ee(e)+(2===n?";":""),n=0,e;case(e.match(be)||{}).input:return t.preprocessorInclude?Ee(e):e;default:return n?e:Ee(e)}})).join(""),o={allowAwaitOutsideFunction:!!t.await,locations:!0};let c=Q()(a,void 0,o);return c&&(c.message+=" at ".concat(e.split("\n")[c.line-1])),c}(e);if(!i)return"";const n=e.split("\n"),s=i.line-1;return t=_.clamp(t,0,n.length),"".concat(n.slice(s-t,s).join("\n"),"\n").concat(n[s],"\n").concat(" ".repeat(i.column-1),"^\n").concat(n.slice(s+1,s+t+1).join("\n"),"\n\nat line: ").concat(s,", column: ").concat(i.column)}globalThis.EjsTemplate={evalTemplate:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return R.isDryRun=!1,await pe(e,t,{logging:!1,options:r})},prepareContext:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:65535;return await xe(t,e)},getSyntaxErrorInfo:we};const ke=(e=>{var t={};return __webpack_require__.d(t,e),t})({getTokenCountAsync:()=>__WEBPACK_EXTERNAL_MODULE__tokenizers_js_d5863f55__.getTokenCountAsync});function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){Ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ce(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let Te=0,Pe=!1;const Ne="a8ff1bc7-15f2-4122-b43b-ded692560538";async function Oe(e){if(!1===C.enabled)return;if(ee(),ve.clear(),!1===C.generate_enabled)return;R.isDryRun=!1;const t=Date.now(),r=await xe(65535,{runType:"generate",runID:Te++}),i=!1===C.generate_loader_enabled?"":await Ve(r,"[GENERATE:BEFORE]");let n=i;for(const[t,i]of e.messages.entries()){const e=!1===C.generate_loader_enabled?"":await Ve(r,"[GENERATE:".concat(t,":BEFORE]"));if("string"==typeof i.content){const s=await Me(i.content,r,"message #".concat(t+1,"(").concat(i.role,")")),a=!1===C.generate_loader_enabled?"":await Ve(r,"[GENERATE:".concat(t,":AFTER]"),s||"");null!=s&&(i.content=e+s+a,n+=e+s+a)}else if(_.isArray(i.content))for(const s of i.content)if("text"===s.type){const a=await Me(s.text,r,"message #".concat(t+1,"(").concat(i.role,")")),o=!1===C.generate_loader_enabled?"":await Ve(r,"[GENERATE:".concat(t,":AFTER]"),a||"");null!=a&&(s.text=e+a+o,n+=e+a+o)}}const s=!1===C.generate_loader_enabled?"":await Ve(r,"[GENERATE:AFTER]",n);n+=s,e.messages[0].content=i+e.messages[0].content,e.messages[e.messages.length-1].content+=s;const a=Date.now()-t;console.log("[Prompt Template] processing ".concat(e.messages.length," messages in ").concat(a,"ms")),await U(),De(n,"send"),ve.clear(),ee()}async function Le(t,r){var i,n;if(!1===C.enabled)return;if(!1===C.render_enabled)return;if(Pe)return;R.isDryRun=!!r;const s=Date.now();if(""===t||null==t)return void console.warn("chat message message_id is empty");const a=parseInt(t);if(isNaN(a)||a<0||a>=e.chat.length)return void console.warn("chat message #".concat(t," invalid"));const o=e.chat[a];if(!o)return void console.error("chat message #".concat(t," not found"));!r||null!=o&&null!==(i=o.is_ejs_processed)&&void 0!==i&&i[o.swipe_id||0]||(R.isDryRun=r=!1);const c=await xe(a+Number(!!r),{runType:"render",message_id:a,swipe_id:o.swipe_id,runID:Te++,is_last:a>=e.chat.length-1,is_user:o.is_user,is_system:o.is_system,name:o.name});let p=!1;function l(t){return p=!0,(0,e.messageFormatting)(t,o.name,o.is_system,o.is_user,a)}const u=!1===C.render_loader_enabled?"":await Ve(c,"[RENDER:BEFORE]","",{escaper:l});if(!r&&C.permanent_evaluation_enabled){c.runType="render_permanent";const t=await Me(o.mes,c,"chat #".concat(a,".").concat(o.swipe_id," raw"));c.runType="render",null!=t&&(o.extra||(o.extra={}),o.extra.display_text=t,(0,e.updateMessageBlock)(a,o,{rerenderMessage:!0}))}const h=null===(n=$('div.mes[mesid="'.concat(t,'"]')))||void 0===n?void 0:n.find(".mes_text"),d=null==h?void 0:h.html();if(!d)return void console.warn("chat message #".concat(t," container not found"));const f=!1===C.code_blocks_enabled?function(e){return e.replace(/(<pre\b[^>]*>)([\s\S]*?)(<\/pre>)/gi,((e,t,r,i)=>t+r.replace(/&lt;/g,"#lt#").replace(/&gt;/g,"#gt#")+i))}(d):function(e){return e.replace(/<pre\b[^>]*>([\s\S]*?)<\/pre>/gi,((e,t)=>{const r=t.replace(/&lt;%([\s\S]*?)%&gt;/g,((e,t)=>"&lt;%".concat(t.replace(/<[^>]+>/g,""),"%&gt;")));return"<pre>".concat(r,"</pre>")}))}(d);let _=await Me(f,c,"chat #".concat(a,".").concat(o.swipe_id),{escaper:l,options:{openDelimiter:"&lt;",closeDelimiter:"&gt;"}});var m,g;!1===C.code_blocks_enabled&&(_=null!==(m=null===(g=_)||void 0===g?void 0:g.replace(/(<pre\b[^>]*>)([\s\S]*?)(<\/pre>)/gi,((e,t,r,i)=>t+r.replace(/#lt#/g,"&lt;").replace(/#gt#/g,"&gt;")+i)))&&void 0!==m?m:null);const v=!1===C.render_loader_enabled?"":await Ve(c,"[RENDER:AFTER]",_||"",{escaper:l});null!=_&&(_=u+_+v),_&&_!==f&&h.empty().append(_),p&&r&&(Pe=!0,console.debug("[HTML] rendering #".concat(a," messages")),o.is_user?await e.eventSource.emit(e.event_types.USER_MESSAGE_RENDERED,a):o.is_system||await e.eventSource.emit(e.event_types.CHARACTER_MESSAGE_RENDERED,a),Pe=!1),o.is_ejs_processed||(o.is_ejs_processed=[]),o.is_ejs_processed[o.swipe_id||0]=!0;const y=Date.now()-s;console.log("[Prompt Template] processing #".concat(a," messages in ").concat(y,"ms")),await U(),r||De(h.text(),"receive")}async function Ie(t){if(!1===C.enabled)return;if(ee(),ve.clear(),!1===C.preload_worldinfo_enabled)return;if(!t)return;R.isDryRun=!0;const r=Date.now(),i=(await w()).filter((e=>!e.disable)),n=await xe(65535,{runType:"preparation",runID:Te++});let s="";C.generate_loader_enabled&&(s+=await Ve(n,"[GENERATE:BEFORE]"));for(const t of i)s+=await Me((0,e.substituteParams)(t.content),_.merge(n,{world_info:t}),"worldinfo ".concat(t.world,".").concat(t.comment));const a=I();if(null!=a&&a.description||null!=a&&a.scenario){const e=(a.description||"")+"\n---\n"+(a.scenario||"");s+=await Me(e,n,"character ".concat(a.name))}C.generate_loader_enabled&&await Ve(n,"[GENERATE:AFTER]",s);const o=Date.now()-r;console.log("[Prompt Template] processing ".concat(i.length," world info in ").concat(o,"ms")),console.log("[Prompt Template] *** UPDATE ALL MESSAGES ***");for(const e of $("div.mes[mesid]")){const t=$(e).attr("mesid");t&&await Le(t,!0)}}async function Re(t,r,i){!1!==C.enabled&&(i||(await e.eventSource.emit(e.event_types.WORLDINFO_FORCE_ACTIVATE,ve.values()),C.debug_enabled&&(console.debug("[Prompt Template] force activate world info:"),console.debug(ve)),ve.clear()))}async function je(e){if(!1===C.enabled)return;if(!1===C.world_active_enabled)return;if(!e.dryRun)return;R.isDryRun=!0;const t=Date.now(),r=await xe(65535,{runType:"preparation",runID:Te++});let i=!1===C.generate_loader_enabled?"":await Ve(r,"[GENERATE:BEFORE]");for(const[t,n]of e.chat.entries()){const e=!1===C.generate_loader_enabled?"":await Ve(r,"[GENERATE:".concat(t,":BEFORE]"));if("string"==typeof n.content){const s=await Me(n.content,r,"message #".concat(t+1,"(").concat(n.role,")"));i+=e+(s||"")+(!1===C.generate_loader_enabled?"":await Ve(r,"[GENERATE:".concat(t,":AFTER]"),s||""))}else if(_.isArray(n.content))for(const s of n.content)if("text"===s.type){const a=await Me(s.text,r,"message #".concat(t+1,"(").concat(n.role,")"));i+=e+(a||"")+(!1===C.generate_loader_enabled?"":await Ve(r,"[GENERATE:".concat(t,":AFTER]"),a||""))}}C.generate_loader_enabled&&await Ve(r,"[GENERATE:AFTER]",i);const n=Date.now()-t;console.log("[Prompt Template] processing ".concat(e.chat.length," messages in ").concat(n,"ms"))}function De(e,t){window.setTimeout((()=>{(0,ke.getTokenCountAsync)(e).then((r=>{switch(console.log("[Prompt Template] processing ".concat(t," result: ").concat(r," tokens and ").concat(e.length," chars")),t){case"send":S.extension_settings.variables.global.LAST_SEND_TOKENS=r,S.extension_settings.variables.global.LAST_SEND_CHARS=e.length;break;case"receive":S.extension_settings.variables.global.LAST_RECEIVE_TOKENS=r,S.extension_settings.variables.global.LAST_RECEIVE_CHARS=e.length}}))}))}async function Me(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var n,s;return await pe(e,t,Ae(Ae({},i),{},{logging:!1,options:Ae({strict:null!==(n=C.strict_enabled)&&void 0!==n&&n,debug:null!==(s=C.debug_enabled)&&void 0!==s&&s},i.options||{})}))}catch(t){if(C.debug_enabled){const t=e.split("\n").map(((e,t)=>"".concat(t,": ").concat(e))).join("\n");console.debug("[Prompt Template] handling ".concat(r," errors:\n").concat(t))}t instanceof SyntaxError&&(t.message+=we(e)),console.error(t),toastr.error(t.message,"EJS Error")}return null}async function Ve(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=y((await w()).filter((e=>e.disable&&e.comment.startsWith(r))),i,!0,!0);let a="";for(const r of s){const i=await Me((0,e.substituteParams)(r.content),_.merge(t,{world_info:r}),"worldinfo ".concat(r.world,".").concat(r.comment),n);null!=i&&(a+=i)}return a}async function Be(e,t,r){if(!1===C.enabled)return;if(r)return;const i=S.extension_settings.regex.findIndex((e=>e.id===Ne));C.filter_message_enabled&&-1===i?(Z("/<%(?![%])([\\s\\S]*?)(?<!%)%>/g","",{uuid:Ne}),console.debug("[Prompt Template] inject regex filter")):!C.filter_message_enabled&&i>-1&&(ee(Ne),console.debug("[Prompt Template] remove regex filter"))}const Fe=[e.event_types.MESSAGE_UPDATED,e.event_types.MESSAGE_SWIPED,e.event_types.CHARACTER_MESSAGE_RENDERED,e.event_types.USER_MESSAGE_RENDERED];const Ue=(e=>{var t={};return __webpack_require__.d(t,e),t})({SlashCommand:()=>__WEBPACK_EXTERNAL_MODULE__slash_commands_SlashCommand_js_1b0d5616__.SlashCommand});const We=(e=>{var t={};return __webpack_require__.d(t,e),t})({ARGUMENT_TYPE:()=>__WEBPACK_EXTERNAL_MODULE__slash_commands_SlashCommandArgument_js_a42b9371__.ARGUMENT_TYPE,SlashCommandArgument:()=>__WEBPACK_EXTERNAL_MODULE__slash_commands_SlashCommandArgument_js_a42b9371__.SlashCommandArgument,SlashCommandNamedArgument:()=>__WEBPACK_EXTERNAL_MODULE__slash_commands_SlashCommandArgument_js_a42b9371__.SlashCommandNamedArgument});const qe=(e=>{var t={};return __webpack_require__.d(t,e),t})({SlashCommandParser:()=>__WEBPACK_EXTERNAL_MODULE__slash_commands_SlashCommandParser_js_42c8b851__.SlashCommandParser});function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ke(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}async function Xe(){await async function(){e.eventSource.on(e.event_types.CHAT_COMPLETION_SETTINGS_READY,Oe),e.eventSource.on(e.event_types.CHAT_CHANGED,Ie),e.eventSource.on(e.event_types.GENERATION_AFTER_COMMANDS,Re),e.eventSource.on(e.event_types.CHAT_COMPLETION_PROMPT_READY,je),e.eventSource.on(e.event_types.GENERATION_AFTER_COMMANDS,Be),Fe.forEach((t=>e.eventSource.on(t,Le)))}(),await async function(){}(),await async function(){$("#extensions_settings").append(await(0,S.renderExtensionTemplateAsync)("third-party/ST-Prompt-Template","settings"));for(const[t,r]of Object.entries(A))$(t).off("click").on("click",(()=>{var i,n;S.extension_settings.EjsTemplate||(S.extension_settings.EjsTemplate={}),S.extension_settings.EjsTemplate[r.name]=null!==(i=$(t).prop("checked"))&&void 0!==i?i:r.value,C[r.name]=null!==(n=$(t).prop("checked"))&&void 0!==n?n:r.value,console.debug("[Prompt Template] setting ".concat(r.name," changed to ").concat(S.extension_settings.EjsTemplate[r.name])),(0,e.saveSettingsDebounced)()}));S.extension_settings.EjsTemplate||(S.extension_settings.EjsTemplate={},T(!0)),e.eventSource.on(e.event_types.SETTINGS_LOADED,P),e.eventSource.on(e.event_types.SETTINGS_UPDATED,N),P()}(),console.log("ST-Prompt-Template initialized")}qe.SlashCommandParser.addCommandObject(Ue.SlashCommand.fromProps({name:"ejs",callback:async(e,t)=>{R.isDryRun=!1;const r=JSON.parse(e.ctx||"{}");e.block&&(t="<%= ".concat(t," %>"));const i=await xe(65535,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(r),!0).forEach((function(t){Ke(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({runType:"command",runID:-1},r));C.debug_enabled&&console.debug("execute template code: ".concat(t));try{return await pe(t,i,{logging:!1})}catch(e){throw e instanceof SyntaxError&&(e.message+=we(t)),console.error(e),e}finally{await U()}},namedArgumentList:[We.SlashCommandNamedArgument.fromProps({name:"ctx",description:"Execute context, eg. {a : 1, b: 2}",typeList:[We.ARGUMENT_TYPE.DICTIONARY],isRequired:!1}),We.SlashCommandNamedArgument.fromProps({name:"block",description:"Treat as a whole code block, eg. <%= code %>",typeList:[We.ARGUMENT_TYPE.DICTIONARY],isRequired:!1})],unnamedArgumentList:[We.SlashCommandArgument.fromProps({description:"code",typeList:[We.ARGUMENT_TYPE.STRING],isRequired:!0})],helpString:"Execute template code",returns:"string"}));const He={init:Xe,exit:async function(){await async function(){e.eventSource.removeListener(e.event_types.CHAT_COMPLETION_SETTINGS_READY,Oe),e.eventSource.removeListener(e.event_types.CHAT_CHANGED,Ie),e.eventSource.removeListener(e.event_types.GENERATION_AFTER_COMMANDS,Re),e.eventSource.removeListener(e.event_types.CHAT_COMPLETION_PROMPT_READY,je),e.eventSource.removeListener(e.event_types.GENERATION_AFTER_COMMANDS,Be),Fe.forEach((t=>e.eventSource.removeListener(t,Le)))}(),await async function(){}(),await async function(){$("#extensions_settings").remove("#prompt_template_settings"),e.eventSource.removeListener(e.event_types.SETTINGS_LOADED,P),e.eventSource.removeListener(e.event_types.SETTINGS_UPDATED,N)}(),console.log("ST-Prompt-Template exited")},info:{id:"ST-Prompt-Template",name:"Prompt Template",description:""}};jQuery((async()=>{await Xe()}))})(),__webpack_exports__=__webpack_exports__.default;var __webpack_exports__default=__webpack_exports__.default,__webpack_exports__exit=__webpack_exports__.false,__webpack_exports__info=__webpack_exports__.false,__webpack_exports__init=__webpack_exports__.false;export{__webpack_exports__default as default,__webpack_exports__exit as exit,__webpack_exports__info as info,__webpack_exports__init as init};
//# sourceMappingURL=index.js.map